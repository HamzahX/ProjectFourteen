(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{32:function(e,t,a){e.exports=a.p+"static/media/mockUps.db2323f6.png"},36:function(e,t,a){e.exports=a(48)},41:function(e,t,a){},42:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),l=a(18),r=a(12),i=(a(41),a(4)),c=a(5),o=a(6),u=a(7),m=a(8),p=a(16),h=(a(42),a(29)),d=a.n(h),b=a(1),f=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={query:a.props.query,type:a.props.type},a.handleChange=a.handleChange.bind(Object(b.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(b.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.setState({query:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.history.push("/search/"+this.state.query)}},{key:"render",value:function(){var e,t,a=this.state.type;return 1===a?(e="searchbar-container1",t=n.a.createElement(r.b,{to:"/"},n.a.createElement("div",{id:"home-button"},n.a.createElement("div",null,"name",n.a.createElement("span",{style:{color:"#e1ba00"}},".com"))))):2===a?(e="searchbar-container2",t=n.a.createElement(r.b,{to:"/"},n.a.createElement("div",{id:"home-button"},n.a.createElement("div",null,"name",n.a.createElement("span",{style:{color:"#e1bb00"}},".com"))))):e="searchbar-container3",n.a.createElement("div",{className:"searchbar-container",id:e},n.a.createElement("form",{id:"searchbar",onSubmit:this.handleSubmit},t,n.a.createElement("input",{type:"text",id:"query",value:this.state.query,placeholder:"Search for players, clubs...",autoComplete:"off",onChange:this.handleChange})))}}]),t}(s.Component),y=Object(p.f)(f),v=a(32),g=a.n(v),E=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{id:"homepage"},n.a.createElement("div",{id:"menu"},n.a.createElement("a",{href:"#home"},"Home"),n.a.createElement("a",{href:"#preview"},"Preview"),n.a.createElement("a",{href:"#faq"},"FAQ"),n.a.createElement("a",{href:"#contact"},"Contact")),n.a.createElement("div",{id:"home"},n.a.createElement(d.a,{cursor:{show:!1},avgTypingDelay:200},n.a.createElement("h1",null,"name",n.a.createElement("span",{style:{color:"#ffd700"}},".com"))),n.a.createElement(y,{type:3})),n.a.createElement("div",{className:"homepage-section-container"},n.a.createElement("div",{id:"preview"},n.a.createElement("div",{id:"preview-text"},n.a.createElement("h2",null,"Preview"),n.a.createElement("p",null,"The OrganizedChaos tool is all about automation. Everything from data retrieval to visualization. It sifts through ",n.a.createElement("span",{className:"accented-p"},"tens of thousands")," of rows of numbers so you don't have to!"),n.a.createElement("br",null),n.a.createElement("p",null,"Explore a database of ",n.a.createElement("span",{className:"accented-p"},"1,800+")," players from Europe's top ",n.a.createElement("span",{className:"accented-p"},"5")," leagues from this season, and hopefully much more in the near future."),n.a.createElement("br",null),n.a.createElement("p",null,"Simply choose from ",n.a.createElement("span",{className:"accented-p"},"5")," positional templates, toggle the competitions you'd like to include, and you can visualize statistics in seconds with interactive percentile rank bar charts, powered by ",n.a.createElement("a",{href:"https://www.highcharts.com"},"Highcharts.js"),".")),n.a.createElement("div",{id:"preview-image"},n.a.createElement("img",{src:g.a,alt:"mockups"})))),n.a.createElement("div",{style:{backgroundColor:"#f0f1f2"},className:"homepage-section-container"},n.a.createElement("div",{id:"faq"},n.a.createElement("h2",null,"F.A.Q."),n.a.createElement("div",{id:"faq-container"},n.a.createElement("div",{className:"faq-item"},n.a.createElement("p",null,n.a.createElement("span",{className:"accented-p"},"Where do you get your data from?")),n.a.createElement("p",null,n.a.createElement("a",{href:"https://www.whoscored.com"},"whoscored.com"))),n.a.createElement("div",{className:"faq-item"},n.a.createElement("p",null,n.a.createElement("span",{className:"accented-p"},"Do you plan on adding xG data (and other xG-based data such as xA) to the charts?")),n.a.createElement("p",null,"Absolutely! I'm currently looking at incorporating some more advanced data from ",n.a.createElement("a",{href:"https://fbref.com"},"FBREF.com"),".")),n.a.createElement("div",{className:"faq-item"},n.a.createElement("p",null,n.a.createElement("span",{className:"accented-p"},"How should the charts be interpreted?")),n.a.createElement("p",null,"Each chart consists of 12 bars. The size of the bar for each stat corresponds to the percentile rank of the selected player with regards to the stat represented by the bar. The data labels attached to each bar show the raw (per 90) value."),n.a.createElement("br",null),n.a.createElement("p",null,"Please note that the position of a stat on the chart can change between different position templates.")),n.a.createElement("div",{className:"faq-item"},n.a.createElement("p",null,n.a.createElement("span",{className:"accented-p"},"What do the colors on the charts mean?")),n.a.createElement("p",null,"The colours are meant to help group similar-ish stats together (as well as improve the charts' visual impact)."),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#f37c98"}},"Red")," is for goal-scoring & shooting stats,"),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#d7c971"}},"Yellow")," is for passing & chance creation,"),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#91d782"}},"Green")," is for dribbling & ball retention"),n.a.createElement("li",null,"and ",n.a.createElement("span",{style:{color:"#95c3ef"}},"Blue")," is for defensive stats"))),n.a.createElement("div",{className:"faq-item"},n.a.createElement("p",null,n.a.createElement("span",{className:"accented-p"},"Can you add a feature to compare players on the same chart?")),n.a.createElement("p",null,"Yes, player comparison is definitely a feature I plan on implementing, although I don't have a concrete timeline for that as of right now. Stay tuned!")),n.a.createElement("div",{className:"faq-item"},n.a.createElement("p",null,n.a.createElement("span",{className:"accented-p"},"What is a percentile rank? How does the OrganizedChaos Tool calculate them?")),n.a.createElement("p",null,"The percentile rank of a score is the percentage of scores within a total dataset that are equal to or lower than the score. This is of course reversed for stats where a lower value is better, such as the 'fouls committed per 90' stat."),n.a.createElement("br",null),n.a.createElement("p",null,"The percentile ranks for the OrganizedChaos tool are position-specific. For example, selecting the 'forward' template compares the selected player only to other forwards in the dataset. To obtain a list of players who play in each of the 5 template positions, I use the ",n.a.createElement("a",{href:"https://whoscored.com/Statistics"},"whoscored.com player statistics table")," to select all top 5 league players who have accumulated 10 or more starts this season in the said position. Their stats from all competitions are then recorded in the dataset for their position."),n.a.createElement("br",null),n.a.createElement("p",null,"For each chart, the percentile ranks of the selected player are then obtained by comparing the player to all other scores in the dataset of the selected template position. Note that the percentile ranks are not competition-specific. In other words, the selected player's stats are always compared to other players' stats from all competitions, regardless of which competitions are toggled for the selected player."))))),n.a.createElement("div",{className:"homepage-section-container"},n.a.createElement("div",{id:"contact"},n.a.createElement("h2",null,"Contact"),n.a.createElement("p",null,"For any comments, bug reports, suggestions or questions, please feel free to reach out to me on twitter",n.a.createElement("a",{href:"https://twitter.com/DyslexicDdue"}," @DyslexicDdue")))))}}]),t}(s.Component),C=a(21),k=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{id:"main"},n.a.createElement("div",{className:"screen",id:"loading-screen"},n.a.createElement("div",{className:"loader"},"Loading...")))}}]),t}(s.Component),S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={name:a.props.name,club:a.props.club,nationality:a.props.nationality,URL:a.props.URL.replace("https://www.whoscored.com/","").replace("History","Show").split("/").join("_"),all:a.props.all},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement(r.b,{to:"/stats/"+this.state.URL},n.a.createElement("div",{tabIndex:"0",className:"search-result"},n.a.createElement("div",{className:"name"},this.state.name),n.a.createElement("div",{className:"club"},"Club: ",this.state.club),n.a.createElement("div",{className:"nationality"},"Nationality: ",this.state.nationality)))}}]),t}(s.Component),P=a(26),O=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={name:a.props.name},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement(r.b,{to:"/search/"+this.state.name+"/all"},n.a.createElement("div",{tabIndex:"0",className:"search-result"},n.a.createElement("div",{className:"name"},this.state.name)))}}]),t}(s.Component),w=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).getSearchResults=function(){var e;e=void 0===a.state.searchByClub?"playersAndClubs":"playersByClub",fetch("/api/search",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:a.state.query,type:e})}).then((function(e){if(e.ok)return e.json();throw new Error("No results found")})).then((function(e){return a.processSearchResults(e)})).catch((function(e){return a.setState({error:e,isLoading:!1})}))};var s=e.match.params.query,n=e.match.params.searchByClub;return a.state={isLoading:!1,error:null,query:s,searchByClub:n,playerSearchResults:[],filteredPlayerSearchResults:[],clubSearchResults:[],names:[],clubs:[],nationalities:[]},a.filterByClub=a.filterByClub.bind(Object(b.a)(a)),a.filterByName=a.filterByName.bind(Object(b.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0},(function(){e.getSearchResults()}))}},{key:"componentWillReceiveProps",value:function(e,t){var a=this,s=e.match.params,n=s.query,l=s.searchByClub;this.setState({isLoading:!0,query:n,searchByClub:l},(function(){a.getSearchResults()}))}},{key:"processSearchResults",value:function(e){for(var t=e.playerSearchResults,a=e.clubSearchResults,s=[],n=[],l=[],r=function(e){var a=t[e],r={value:a.club,label:a.club},i={value:a.nationality,label:a.nationality},c={value:a.name,label:a.name};s.push(c),!n.filter((function(e){return e.value===r.value})).length>0&&n.push(r),!l.filter((function(e){return e.value===i.value})).length>0&&l.push(i)},i=0;i<t.length;i++)r(i);this.setState({playerSearchResults:t,filteredPlayerSearchResults:t,clubSearchResults:a,names:s,clubs:n,nationalities:l,isLoading:!1,error:null})}},{key:"filterByClub",value:function(e){var t=this;console.log(e);var a=JSON.parse(JSON.stringify(this.state.playerSearchResults)),s=[];if(null===e||0===e.length)s=a;else for(var n=0;n<a.length;n++)for(var l=0;l<e.length;l++)e[l].value===a[n].club&&s.push(a[n]);this.setState({filteredPlayerSearchResults:[]},(function(){t.setState({filteredPlayerSearchResults:s})}))}},{key:"filterByName",value:function(e){var t=this,a=JSON.parse(JSON.stringify(this.state.playerSearchResults)),s=[];if(null===e)s=a;else for(var n=0;n<a.length;n++)a[n].name.toUpperCase().includes(e.value.toUpperCase())&&s.push(a[n]);this.setState({filteredPlayerSearchResults:[]},(function(){t.setState({filteredPlayerSearchResults:s})}))}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.isLoading,s=e.filteredPlayerSearchResults,l=e.clubSearchResults,r=e.clubs,i=e.names,c=e.searchByClub;if(a)return n.a.createElement(k,null);if(null!==t)return n.a.createElement("div",{id:"main"},n.a.createElement(y,{type:1,query:this.state.query}),n.a.createElement("div",{className:"screen",id:"error-screen"},n.a.createElement("p",null,t.message)));for(var o=[],u=0;u<s.length;u++){var m=s[u];o.push(n.a.createElement(S,{name:m.name,club:m.club,nationality:m.nationality,URL:m.URL,all:m.all}))}for(var p=[],h=0;h<l.length;h++){var d=l[h];p.push(n.a.createElement(O,{name:d}))}var b,f,v={control:function(e,t){return Object(C.a)({},e,{boxShadow:"none","&:hover":{borderColor:"#B23535"},"&:focus":{borderColor:"#B23535"}})}},g=function(e){return Object(C.a)({},e,{colors:Object(C.a)({},e.colors,{primary25:"pink",primary:"#e75453"})})};return void 0===c?(f=n.a.createElement("h3",null,"Search results for ",n.a.createElement("br",null),'"',this.state.query,'"'),b=n.a.createElement(P.a,{styles:v,theme:g,placeholder:"Filter players by club",onChange:this.filterByClub,isMulti:!0,isClearable:!0,options:r})):(f=n.a.createElement("h3",null,"Search results for ",n.a.createElement("br",null),'"player.club = ',this.state.query,'"'),b=n.a.createElement(P.a,{styles:v,theme:g,placeholder:"Filter players by name",onChange:this.filterByName,isClearable:!0,options:i})),n.a.createElement("div",{id:"main"},n.a.createElement(y,{type:1,query:this.state.query}),n.a.createElement("div",{className:"screen",id:"search-screen"},n.a.createElement("div",{className:"filter",id:"search-filters"},f,n.a.createElement("div",{id:"search-filter-inputs"},b)),n.a.createElement("div",{className:"result",id:"search-results"},void 0===c?n.a.createElement("h3",null,"Players"):null,0===o.length&&void 0===c?n.a.createElement("p",null,"No results found"):null,n.a.createElement("div",{id:"player-search-results"},o),void 0===c?n.a.createElement("h3",null,"Clubs"):null,0===p.length&&void 0===c?n.a.createElement("p",null,"No results found"):null,n.a.createElement("div",{id:"club-search-results"},p))))}}]),t}(s.Component),N=a(17),j=a.n(N),R=a(33),L=a.n(R),D=a(34),M=a.n(D),T=a(35),A=a.n(T);L()(j.a),M()(j.a);var B=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).getStats=function(){var e=a.props.match.params.URL;fetch("/api/stats",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({URL:e})}).then((function(e){return e.json()})).then((function(e){return a.processStats(e)}))};return a.state={isLoading:!1,allStats:{},percentiles:a.props.percentiles,allCompetitions:[],selectedCompetitions:[],categories:["Non-Penalty Goals","Non-Penalty Shots","Conversion Rate","Shots on Target %","Assists","Key Passes","Completed Passes","Pass Completion %","Successful Dribbles","Dribble Success %","Turnovers","Recoveries"],template:"FW",name:"",url:"",isAll:!1,multipleLeagues:!1,isMobile:a.props.isMobile,fontSizes:{title:!0===a.props.isMobile?"4vw":"2em",subtitle:!0===a.props.isMobile?"2.8vw":"1.4em",noData:!0===a.props.isMobile?"2.7vw":"1.35em",xAxisLabels:!0===a.props.isMobile?"2.3vw":"1.15em",dataLabels:!0===a.props.isMobile?"2.3vw":"1.25em",tooltipHeader:!0===a.props.isMobile?"2.3vw":"1em",tooltip:!0===a.props.isMobile?"2.3vw":"1.25em",credits:!0===a.props.isMobile?"1.4vw":"1em",yAxisLabels:!0===a.props.isMobile?"1vw":"0.5em"}},a.processStats=a.processStats.bind(Object(b.a)(a)),a.changeTemplate=a.changeTemplate.bind(Object(b.a)(a)),a.changeSelectedCompetitions=a.changeSelectedCompetitions.bind(Object(b.a)(a)),a.selectAllCompetitions=a.selectAllCompetitions.bind(Object(b.a)(a)),a.clearAllCompetitions=a.clearAllCompetitions.bind(Object(b.a)(a)),a.filterStats=a.filterStats.bind(Object(b.a)(a)),a.calculateChartInput=a.calculateChartInput.bind(Object(b.a)(a)),a.percentRank=a.percentRank.bind(Object(b.a)(a)),a.roundNumbers=a.roundNumbers.bind(Object(b.a)(a)),a.insertChartInput=a.insertChartInput.bind(Object(b.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0},(function(){e.getStats()}))}},{key:"processStats",value:function(e){var t=this.state.allCompetitions.filter((function(e){return e.startsWith("League | ")})).length>1;this.setState({url:e.url,name:e.name,lastUpdated:e.lastUpdated,allStats:e.stats,allCompetitions:Object.keys(e.stats),selectedCompetitions:Object.keys(e.stats),isLoading:!1,multipleLeagues:t},(function(){}))}},{key:"changeSelectedCompetitions",value:function(e){var t=this.state.selectedCompetitions,a=e.target.value;t.includes(a)?t.splice(t.indexOf(a),1):t.push(a),this.setState({selectedCompetitions:t})}},{key:"selectAllCompetitions",value:function(e){var t=JSON.parse(JSON.stringify(this.state.allCompetitions));this.setState({selectedCompetitions:t})}},{key:"clearAllCompetitions",value:function(e){this.setState({selectedCompetitions:[]})}},{key:"changeTemplate",value:function(e){var t=this,a=e.target.value;this.setState({template:a},(function(){t.setCategories()}))}},{key:"setCategories",value:function(){var e=[];switch(this.state.template){case"FW":e=["Non-Penalty Goals","Non-Penalty Shots","Conversion Rate","Shots on Target %","Assists","Key Passes","Completed Passes","Pass Completion %","Successful Dribbles","Dribble Success %","Turnovers","Recoveries"];break;case"AM":e=["Non-Penalty Goals","Non-Penalty Shots","Assists","Key Passes","Completed Passes","Pass Completion %","Completed Crosses","Cross Completion %","Successful Dribbles","Dribble Success %","Turnovers","Recoveries"];break;case"CM":e=["Non-Penalty Goals + Assists","Key Passes","Completed Passes","Pass Completion %","Completed Long Passes","Long Pass Completion %","Successful Dribbles","Dribble Success %","Interceptions","Tackles Won","Tackle Win %","Fouls Committed"];break;case"FB":e=["Assists","Key Passes","Completed Passes","Pass Completion %","Completed Crosses","Cross Completion %","Successful Dribbles","Dribble Success %","Interceptions","Tackles Won","Tackle Win %","Fouls Committed"];break;case"CB":e=["Completed Passes","Pass Completion %","Completed Long Passes","Long Pass Completion %","Interceptions","Tackles Won","Tackle Win %","Fouls Committed","Blocks","Clearances","Aerial Duels Won","Aerial Duel Win %"]}this.setState({categories:e})}},{key:"filterStats",value:function(e){var t={},a=this.state.selectedCompetitions;for(var s in e)if(a.includes(s))for(var n in e[s])n in t?t[n]+=e[s][n]:t[n]=e[s][n];return t}},{key:"calculateChartInput",value:function(e,t){var a={},s={};switch(this.state.template){case"FW":for(var n in a.goals=e.goals/(e.minutes/90),a.shots=(e.shots-e.penaltiesTaken)/(e.minutes/90),a.conversionRate=e.goals/(e.shots-e.penaltiesTaken)*100,a.shotsOnTarget=(e.shotsOnTarget-e.penaltiesTaken)/(e.shots-e.penaltiesTaken)*100,a.assists=e.assists/(e.minutes/90),a.keyPasses=e.keyPasses/(e.minutes/90),a.succPasses=e.succPasses/(e.minutes/90),a.passingRate=e.succPasses/e.totalPasses*100,a.succDribbles=e.succDribbles/(e.minutes/90),a.dribbleRate=e.succDribbles/e.totalDribbles*100,a.possessionLosses=e.possessionLosses/(e.minutes/90),a.recoveries=e.tackles/(e.minutes/90)+e.interceptions/(e.minutes/90),a)s[n]=100*this.percentRank(t.fw[n],a[n]);s.possessionLosses=100-s.possessionLosses;break;case"AM":for(var l in a.goals=e.goals/(e.minutes/90),a.shots=(e.shots-e.penaltiesTaken)/(e.minutes/90),a.assists=e.assists/(e.minutes/90),a.keyPasses=e.keyPasses/(e.minutes/90),a.succPasses=e.succPasses/(e.minutes/90),a.passingRate=e.succPasses/e.totalPasses*100,a.succCrosses=e.succCrosses/(e.minutes/90),a.crossRate=e.succCrosses/e.totalCrosses*100,a.succDribbles=e.succDribbles/(e.minutes/90),a.dribbleRate=e.succDribbles/e.totalDribbles*100,a.possessionLosses=e.possessionLosses/(e.minutes/90),a.recoveries=e.tackles/(e.minutes/90)+e.interceptions/(e.minutes/90),a)s[l]=100*this.percentRank(t.am[l],a[l]);s.possessionLosses=100-s.possessionLosses;break;case"CM":for(var r in a.goalsPlusAssists=(e.goals+e.assists)/(e.minutes/90),a.keyPasses=e.keyPasses/(e.minutes/90),a.succPasses=e.succPasses/(e.minutes/90),a.passingRate=e.succPasses/e.totalPasses*100,a.succLongPasses=e.succLongPasses/(e.minutes/90),a.longPassingRate=e.succLongPasses/e.totalLongPasses*100,a.succDribbles=e.succDribbles/(e.minutes/90),a.dribbleRate=e.succDribbles/e.totalDribbles*100,a.interceptions=e.interceptions/(e.minutes/90),a.tackles=e.tackles/(e.minutes/90),a.tackleRate=e.tackles/(e.tackles+e.dribbledPast)*100,a.fouls=e.fouls/(e.minutes/90),a)s[r]=100*this.percentRank(t.cm[r],a[r]);s.fouls=100-s.fouls;break;case"FB":for(var i in a.assists=e.assists/(e.minutes/90),a.keyPasses=e.keyPasses/(e.minutes/90),a.succPasses=e.succPasses/(e.minutes/90),a.passingRate=e.succPasses/e.totalPasses*100,a.succCrosses=e.succCrosses/(e.minutes/90),a.crossRate=e.succCrosses/e.totalCrosses*100,a.succDribbles=e.succDribbles/(e.minutes/90),a.dribbleRate=e.succDribbles/e.totalDribbles*100,a.interceptions=e.interceptions/(e.minutes/90),a.tackles=e.tackles/(e.minutes/90),a.tackleRate=e.tackles/(e.tackles+e.dribbledPast)*100,a.fouls=e.fouls/(e.minutes/90),a)s[i]=100*this.percentRank(t.fb[i],a[i]);s.fouls=100-s.fouls;break;case"CB":for(var c in a.succPasses=e.succPasses/(e.minutes/90),a.passingRate=e.succPasses/e.totalPasses*100,a.succLongPasses=e.succLongPasses/(e.minutes/90),a.longPassingRate=e.succLongPasses/e.totalLongPasses*100,a.interceptions=e.interceptions/(e.minutes/90),a.tackles=e.tackles/(e.minutes/90),a.tackleRate=e.tackles/(e.tackles+e.dribbledPast)*100,a.fouls=e.fouls/(e.minutes/90),a.blocks=e.blocks/(e.minutes/90),a.clearances=e.clearances/(e.minutes/90),a.succAerialDuels=e.succAerialDuels/(e.minutes/90),a.aerialDuelRate=e.succAerialDuels/e.totalAerialDuels*100,a)s[c]=100*this.percentRank(t.cb[c],a[c]);s.fouls=100-s.fouls}return this.insertChartInput(a,s)}},{key:"percentRank",value:function(e,t){isFinite(t)||(t=0);for(var a=0,s=e.length;a<s;a++)if(t<e[a]){for(;a<s&&t===e[a];)a++;return 0===a?0:(t!==e[a-1]&&(a+=(t-e[a-1])/(e[a]-e[a-1])),a/s)}return 1}},{key:"roundNumbers",value:function(e,t){for(var a in e)isFinite(e[a])?e[a]=Math.round(e[a]*Math.pow(10,t))/Math.pow(10,t):e[a]=0;return e}},{key:"insertChartInput",value:function(e,t){var a=this.state.template,s=[];s="FW"===a?[5,5,5,5,6,6,6,6,2,2,2,0]:"AM"===a?[5,5,6,6,6,6,6,6,2,2,2,0]:"CM"===a?[8,6,6,6,6,6,2,2,0,0,0,0]:"FB"===a?[6,6,6,6,6,6,2,2,0,0,0,0]:[6,6,6,6,0,0,0,0,0,0,0,0],e=this.roundNumbers(e,2),t=this.roundNumbers(t,0);var n=[],l=0;for(var r in t)n[l]={y:t[r],p90:e[r],color:j.a.Color(j.a.getOptions().colors[s[l]]).setOpacity(.8).get()},l++;return n}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.url,s=e.lastUpdated,l=e.selectedCompetitions,r=e.template,i=e.categories,c=e.allStats,o=e.percentiles,u=e.isLoading,m=e.multipleLeagues,p=e.fontSizes,h=e.isMobile;if(u)return n.a.createElement(k,null);for(var d=this.state.allCompetitions,b=[],f=0;f<d.length;f++){var v=d[f],g=l.includes(v),E=v;m||(E=E.substring(0,E.indexOf("|")-1)),b.push(n.a.createElement("label",{className:g?"selected-label":null},n.a.createElement("input",{className:"competition",type:"checkbox",value:v,onChange:this.changeSelectedCompetitions,checked:g})," ","  "+E))}if(0!==o.length&&0!==Object.keys(c).length&&i!==[]){var C,S,P=this.filterStats(c);if(0!==l.length){switch(C=[this.calculateChartInput(P,o)],S="Percentile Rank Bars (w/ p90 Raw Values)<br>",r){case"FW":S+="Forward Template  \u2551  Minutes Played: ";break;case"AM":S+="Attacking Midfielder / Winger Template  \u2551  Minutes Played: ";break;case"CM":S+="Central / Defensive Midfielder Template  \u2551  Minutes Played: ";break;case"FB":S+="Full-back Template  \u2551  Minutes Played: ";break;case"CB":S+="Center-back Template  \u2551  Minutes Played: "}S+=P.minutes.toLocaleString(),S+="<br>Last Updated: "+s+" UTC"}else C=[],S="-<br>-<br>-";var O={chart:{backgroundColor:"rgba(0, 0, 0, 0)",style:{fontFamily:"sans-serif"},parallelCoordinates:!0,parallelAxes:{labels:{enabled:!1,style:{color:"#444444",fontSize:p.yAxisLabels}},gridZIndex:5,lineWidth:0,endOnTick:!0,showFirstLabel:!1,showLastLabel:!0,min:-15,max:100,tickPositions:[-15,0,25,50,75,100]},polar:!0,type:"column",hideDelay:0,spacingLeft:0,spacingRight:0,marginLeft:90,marginRight:90,marginBottom:30,events:{load:function(){this.title.element.onclick=function(){window.open(a,"_blank")}}}},credits:{text:"Data source: whoscored.com",style:{fontSize:p.credits},href:""},plotOptions:{series:{color:j.a.Color(j.a.getOptions().colors[0]).setOpacity(.6).get(),dataLabels:{enabled:!0,inside:!0,style:{color:"black",fontWeight:"600",fontSize:p.dataLabels,textOutline:"1.5px contrast"},format:"{point.p90}",padding:0,allowOverlap:!0}}},title:{text:t+", 19/20",style:{color:"#e75453",fontSize:p.title,fontWeight:"bold"},margin:35},pane:{startAngle:-16.363636363636363},lang:{noData:"Select a competition"},noData:{style:{fontWeight:"bold",fontSize:p.noData,color:"#303030"}},subtitle:{text:S,style:{fontSize:p.subtitle}},tooltip:{headerFormat:'<span style="font-size: '+p.tooltipHeader+'">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}<br>Raw Value: <b>{point.p90}</b><br/>Percentile Rank: <b>{point.formattedValue}</b>',style:{fontSize:p.tooltip}},legend:{enabled:!1,borderWidth:1,align:"center",verticalAlign:"bottom",layout:"horizontal"},xAxis:{categories:i,labels:{distance:!0===h?60:40,style:{fontSize:p.xAxisLabels},padding:31},gridLineWidth:1.5,gridLineColor:"#333333",gridZIndex:4},series:C.map((function(e,a){return{pointPadding:0,groupPadding:0,name:t,data:e,stickyTracking:!1,zIndex:0}})),exporting:{scale:1,sourceWidth:1920,sourceHeight:1080,buttons:{contextButton:{menuItems:["viewFullscreen","printChart"]}}}}}return n.a.createElement("div",{id:"main2"},n.a.createElement(y,{type:2}),n.a.createElement("div",{className:"screen2",id:"content-screen"},n.a.createElement("div",{className:"filter",id:"chart-filters"},n.a.createElement("div",{className:"chart-filter-inputs",id:"chart-filter-inputs-laptop"},n.a.createElement("h3",null,"Template"),n.a.createElement("form",{id:"templates",onChange:this.changeTemplate},n.a.createElement("label",null,n.a.createElement("input",{type:"radio",name:"template",value:"FW",checked:"FW"===r||null})," Forward "),n.a.createElement("label",null,n.a.createElement("input",{type:"radio",name:"template",value:"AM",checked:"AM"===r||null})," Attacking Midfielder / Winger"),n.a.createElement("label",null,n.a.createElement("input",{type:"radio",name:"template",value:"CM",checked:"CM"===r||null})," Central / Defensive Midfielder"),n.a.createElement("label",null,n.a.createElement("input",{type:"radio",name:"template",value:"FB",checked:"FB"===r||null})," Full-back "),n.a.createElement("label",null,n.a.createElement("input",{type:"radio",name:"template",value:"CB",checked:"CB"===r||null})," Center-back ")),n.a.createElement("h3",null,"Competitions"),n.a.createElement("h4",null,"19/20"),n.a.createElement("form",{id:"competitions"},b)),n.a.createElement("div",{className:"chart-filter-inputs",id:"chart-filter-inputs-mobile"},n.a.createElement("div",{id:"templates-container"},n.a.createElement("h3",null,"Template"),n.a.createElement("form",{id:"templates",onChange:this.changeTemplate},n.a.createElement("label",{className:"FW"===r?"selected-label":null},n.a.createElement("input",{type:"radio",name:"template",value:"FW",checked:"FW"===r||null})," ",n.a.createElement("span",null,"Forward")),n.a.createElement("label",{className:"AM"===r?"selected-label":null},n.a.createElement("input",{type:"radio",name:"template",value:"AM",checked:"AM"===r||null})," ",n.a.createElement("span",null,"Attacking Midfielder / Winger")),n.a.createElement("label",{className:"CM"===r?"selected-label":null},n.a.createElement("input",{type:"radio",name:"template",value:"CM",checked:"CM"===r||null})," ",n.a.createElement("span",null,"Central / Defensive Midfielder")),n.a.createElement("label",{className:"FB"===r?"selected-label":null},n.a.createElement("input",{type:"radio",name:"template",value:"FB",checked:"FB"===r||null})," ",n.a.createElement("span",null,"Full-back")),n.a.createElement("label",{className:"CB"===r?"selected-label":null},n.a.createElement("input",{type:"radio",name:"template",value:"CB",checked:"CB"===r||null})," ",n.a.createElement("span",null,"Center-back")))),n.a.createElement("div",{id:"competitions-container"},n.a.createElement("h3",{style:{marginBottom:"0px"}},"Competitions"),n.a.createElement("h4",{style:{marginBottom:"20px"}},"19/20"),n.a.createElement("form",{id:"competitions"},b))),n.a.createElement("div",{id:"filter-buttons"},n.a.createElement("div",{className:"filter-button"},n.a.createElement("button",{id:"selectAllButton",type:"button",onClick:this.selectAllCompetitions},"Select All Competitions")),n.a.createElement("div",{className:"filter-button"},n.a.createElement("button",{id:"clearAllButton",type:"button",onClick:this.clearAllCompetitions},"Clear All Competitions")),n.a.createElement("div",{className:"filter-button"},n.a.createElement("button",{id:"toggleTableButton",type:"button",disabled:!0},"Toggle Data Table")))),n.a.createElement("div",{className:"result",id:"chart"},n.a.createElement(A.a,{constructorType:"chart",highcharts:j.a,containerProps:{style:{width:"100%"}},options:O}))))}}]),t}(s.Component),F=a(20),x=a.n(F),W=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).getPercentiles=function(){fetch("/api/percentiles",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}).then((function(e){return e.json()})).then((function(e){return a.setState({percentiles:e})})).catch()},a.state={percentiles:{},isMobile:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=!1,t=this;x()((function(){if("rgb(250, 251, 253)"===x()("body").css("background-color")&&(e=!0),e){var a=Math.max(document.documentElement.clientHeight,window.innerHeight||0);x()("html, body, #root, #root-container").css({height:a}),x()("#home").css({height:a}),t.setState({isMobile:e})}})),this.getPercentiles()}},{key:"render",value:function(){var e=this;return n.a.createElement(p.c,null,n.a.createElement((function(){return n.a.createElement("div",{id:"root-container"},n.a.createElement(p.c,null,n.a.createElement(p.a,{exact:!0,path:"/",component:E}),n.a.createElement(p.a,{path:"/search/:query/:searchByClub?",component:w}),n.a.createElement(p.a,{path:"/stats/:URL",render:function(t){return n.a.createElement(B,Object.assign({},t,{percentiles:e.state.percentiles,isMobile:e.state.isMobile}))}})))}),null))}}]),t}(s.Component);Object(l.render)(n.a.createElement(r.a,null,n.a.createElement(W,null)),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.be673ac4.chunk.js.map
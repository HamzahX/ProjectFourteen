(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{33:function(e,t,a){e.exports=a.p+"static/media/mockups.6ea1291e.png"},38:function(e,t,a){e.exports=a(51)},43:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),l=a(17),r=a(13),i=(a(43),a(4)),c=a(5),o=a(6),u=a(7),m=a(8),p=a(16),h=a(21),d=a(18),b=a.n(d),f=a(1),g=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={query:a.props.query,type:a.props.type},a.handleChange=a.handleChange.bind(Object(f.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(f.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.setState({query:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.history.push("/search/"+this.state.query)}},{key:"render",value:function(){var e,t,a=this.state.type;return e=1===a?"searchbar-container1":2===a?"searchbar-container2":"searchbar-container3",3!==a&&(t=n.a.createElement(r.b,{to:"/"},n.a.createElement("div",{id:"home-button"},n.a.createElement("div",null,"Football",n.a.createElement("span",{style:{color:"#e4c000",display:"block"}},"Slices",n.a.createElement("span",{style:{color:"black"}},".com")))))),n.a.createElement("div",{className:"searchbar-container",id:e},n.a.createElement("form",{id:"searchbar",onSubmit:this.handleSubmit},t,n.a.createElement("input",{type:"text",id:"query",value:this.state.query,placeholder:"Search for players, clubs...",autoComplete:"off",onChange:this.handleChange})))}}]),t}(s.Component),y=Object(p.f)(g),E=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={page:a.props.page,name:a.props.name,club:a.props.club,nationality:a.props.nationality,URL:a.props.URL.replace("https://www.whoscored.com/","").replace("History","Show").split("/").join("_"),all:a.props.all},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){for(var e=this.state,t=e.club,a=e.page,s=t[0],l=1;l<t.length;l++)s+=", "+t[l];var i="home"===a?"sample-player":"search-result",c="home"===a?"":"Club:";return n.a.createElement(r.b,{to:"/stats/"+this.state.URL},n.a.createElement("div",{tabIndex:"0",className:i},n.a.createElement("div",{className:"name"},this.state.name),n.a.createElement("div",{className:"club"},c," ",s),n.a.createElement("div",{className:"nationality"},"Nationality: ",this.state.nationality)))}}]),t}(s.Component),v=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{id:"main"},n.a.createElement("div",{className:"screen",id:"loading-screen"},n.a.createElement("div",{className:"loader"},"Loading...")))}}]),t}(s.Component),C=a(33),k=a.n(C),S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).getSamplePlayers=function(){fetch("/api/samplePlayers",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}).then((function(e){return e.json()})).then((function(e){if(a.setState({samplePlayers:e,isLoading:!1}),"rgb(250, 251, 253)"===b()("body").css("background-color")){var t=Math.max(document.documentElement.clientHeight,window.innerHeight||0),s=.06*t;b()("#home").css({height:t}),b()("#navbar-container").css({height:s})}}))},a.toggleMenu=function(){var e=document.getElementById("menu");"navbar"===e.className?e.className+=" responsive":e.className="navbar"},a.hideMenu=function(){var e=document.getElementById("menu");"navbar"!==e.className&&(e.className="navbar")},a.state={isMobile:a.props.isMobile,isLoading:!1,samplePlayers:[]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0},(function(){e.getSamplePlayers()}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.samplePlayers;if(t)return n.a.createElement(v,null);for(var s=[],l=0;l<a.length;l++){var r=a[l];s.push(n.a.createElement(E,{page:"home",name:r.name,club:r.club,nationality:r.nationality,URL:r.url}))}return n.a.createElement("div",{id:"homepage"},n.a.createElement("div",{id:"navbar-container"},n.a.createElement("div",{className:"navbar",id:"menu"},n.a.createElement("div",null,n.a.createElement("a",{onClick:this.hideMenu,href:"#home"},"Home")),n.a.createElement("div",null,n.a.createElement("a",{onClick:this.hideMenu,href:"#preview"},"Preview")),n.a.createElement("div",null,n.a.createElement("a",{onClick:this.hideMenu,href:"#faq"},"F.A.Q.")),n.a.createElement("div",null,n.a.createElement("a",{onClick:this.hideMenu,href:"#glossary"},"Glossary")),n.a.createElement("div",null,n.a.createElement("a",{onClick:this.hideMenu,href:"#contact"},"Contact")),n.a.createElement("div",{id:"burger-icon-container"},n.a.createElement("a",{onClick:this.toggleMenu,id:"burgerIcon"},n.a.createElement("i",{className:"fa fa-bars"}))))),n.a.createElement("div",{id:"home"},n.a.createElement("h1",null,"Football",n.a.createElement("span",{style:{color:"#e4c000"}},"Slices")),n.a.createElement(y,{type:3}),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("p",null,"...or try using a sample player"),n.a.createElement("br",null),n.a.createElement("div",{id:"sample-results"},s)),n.a.createElement("div",{id:"preview",className:"homepage-section-container"},n.a.createElement("div",{id:"preview-section-container"},n.a.createElement("div",{id:"preview-text"},n.a.createElement("h2",null,"Preview"),n.a.createElement("p",null,"FootballSlices are stats visualizations that are supported by an entirely automated data retrieval process. The tool sifts through tens of thousands of rows of numbers so you don't have to!"),n.a.createElement("p",null,"Explore a database of ",n.a.createElement("span",{style:{color:"orangered"}},"1,900+ players "),"from ",n.a.createElement("span",{style:{color:"orangered"}},"Europe's top 5 leagues")," from this season, and hopefully previous seasons as well in the near future."),n.a.createElement("p",null,"Simply choose from 5 positional templates, toggle the competitions you'd like to include, and you can visualize statistics in seconds with interactive percentile rank bar charts, powered by ",n.a.createElement("a",{href:"https://www.highcharts.com"},"Highcharts.js"),"."),n.a.createElement("p",null,n.a.createElement("span",{className:"accented-p"},"Interpreting FootballSlices")),n.a.createElement("p",null,"FootballSlices consist of 12 wedges. The size of each wedge corresponds to the percentile rank of the selected player with regards to the stat represented by the wedge. The data labels show the raw per 90 value."),n.a.createElement("p",null,"The colours are meant to help group similar-ish stats together (as well as improve the charts' visual impact)."),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#f15c80",fontWeight:"bold"}},"Red")," is for goal-scoring & shooting stats,"),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#e4c000",fontWeight:"bold"}},"Yellow")," is for passing & chance creation,"),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#90ed7d",fontWeight:"bold"}},"Green")," is for dribbling & ball retention"),n.a.createElement("li",null,"and ",n.a.createElement("span",{style:{color:"#7cb5ec",fontWeight:"bold"}},"Blue")," is for defensive stats."))),n.a.createElement("div",{id:"preview-image"},n.a.createElement("img",{src:k.a,alt:"mockups"})))),n.a.createElement("div",{id:"faq",style:{backgroundColor:"#f4f5f6"},className:"homepage-section-container"},n.a.createElement("div",{id:"faq-section-container"},n.a.createElement("h2",null,"F.A.Q."),n.a.createElement("div",{id:"faq-container"},n.a.createElement("div",{className:"faq-item"},n.a.createElement("p",null,n.a.createElement("span",{className:"accented-p"},"Where does the data come from?")),n.a.createElement("p",null,n.a.createElement("a",{href:"https://www.whoscored.com"},"WhoScored.com")," and ",n.a.createElement("a",{href:"https://www.fbref.com"},"FBref.com"),".")),n.a.createElement("div",{className:"faq-item"},n.a.createElement("p",null,n.a.createElement("span",{className:"accented-p"},"Will the dataset be expanded to include players that aren't in the top 5 leagues?")),n.a.createElement("p",null,"Probably not. This is due to the fact that ",n.a.createElement("a",{href:"https://www.fbref.com"},"FBref.com")," only has xG and xA data for a few competitions.")),n.a.createElement("div",{className:"faq-item"},n.a.createElement("p",null,n.a.createElement("span",{className:"accented-p"},"I can't find a player, and they play in one of the top 5 leagues. Why?")),n.a.createElement("p",null,"This is likely due to one of two reasons:"),n.a.createElement("ol",null,n.a.createElement("li",null,"The database only includes players who've made 4 or more league appearances this season."),n.a.createElement("li",null,'Some players are listed under their nickname. For example, try searching for "Chicharito" instead of "Javier Hernandez".'))),n.a.createElement("div",{className:"faq-item"},n.a.createElement("p",null,n.a.createElement("span",{className:"accented-p"},"Can you add a feature to compare players on the same chart?")),n.a.createElement("p",null,"Yes, that's in the works right now. Stay tuned!")),n.a.createElement("div",{className:"faq-item"},n.a.createElement("p",null,n.a.createElement("span",{className:"accented-p"},"What is a percentile rank? How are they calculated for the FootballSlices?")),n.a.createElement("p",null,"The percentile rank of a score is the percentage of scores within a total dataset that are equal to or lower than the score. This is of course reversed for stats where a lower value is better, such as the 'fouls committed per 90' stat."),n.a.createElement("p",null,"The percentile ranks for FootballSlices are position-specific. For example, selecting the 'forward' template compares the selected player only to other forwards in the dataset. To obtain a list of players who play in each of the 5 template positions, the tool uses the ",n.a.createElement("a",{href:"https://whoscored.com/Statistics"},"WhoScored.com player statistics table")," to select all top 5 league players who have accumulated 10 or more league starts this season in the said position. Their stats from all competitions are then recorded in the dataset for their position."),n.a.createElement("p",null,"For each chart, the percentile ranks of the selected player are then obtained by comparing the player to all other scores in the dataset of the selected template position. Note that the percentile ranks are not competition-specific. In other words, the selected player's stats are always compared to other players' stats from all competitions, regardless of which competitions are toggled for the selected player."))))),n.a.createElement("div",{id:"glossary",className:"homepage-section-container"},n.a.createElement("div",{id:"glossary-section-container"},n.a.createElement("h2",null,"Glossary"),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("span",{className:"accented-p"},"Non-penalty Goals")," [Opta] Goals that did not stem directly from penalty kicks."),n.a.createElement("li",null,n.a.createElement("span",{className:"accented-p"},"Non-penalty xG")," [StatsBomb] Expected goals that did not stem directly from penalty kicks. Click ",n.a.createElement("a",{href:"https://fbref.com/en/expected-goals-model-explained/"},"here")," for a detailed explanation of StatsBomb's expected goals model."),n.a.createElement("li",null,n.a.createElement("span",{className:"accented-p"},"Conversion Rate")," [Opta] The percentage of shots taken that resulted in goals, excluding penalties."),n.a.createElement("li",null,n.a.createElement("span",{className:"accented-p"},"Shots on Target %")," [Opta] The percentage of shots taken that were on target."),n.a.createElement("li",null,n.a.createElement("span",{className:"accented-p"},"Assists")," [Opta] Passes that directly led to a chance scored by a teammate."),n.a.createElement("li",null,n.a.createElement("span",{className:"accented-p"},"xA")," [StatsBomb] Expected goals that resulted from shot assists."),n.a.createElement("li",null,n.a.createElement("span",{className:"accented-p"},"Passes into the Penalty Area")," [StatsBomb] Completed passes into the penalty area, excluding set pieces."),n.a.createElement("li",null,n.a.createElement("span",{className:"accented-p"},"Passes into the Final 1/3")," [StatsBomb] Completed passes that entered the 1/3 of the pitch closest to the opposition goal, excluding set pieces."),n.a.createElement("li",null,n.a.createElement("span",{className:"accented-p"},"Pass Completion %")," [Opta] The percentage of attempted passes that successfully found a teammate."),n.a.createElement("li",null,n.a.createElement("span",{className:"accented-p"},"Completed Crosses")," [Opta] Accurate passes from a wide position to a central attacking area."),n.a.createElement("li",null,n.a.createElement("span",{className:"accented-p"},"Cross Completion %")," [Opta] The percentage of attempted crosses that successfully found a teammate."),n.a.createElement("li",null,n.a.createElement("span",{className:"accented-p"},"Completed Long Passes")," [Opta] Accurate passes of 25 yards or more."),n.a.createElement("li",null,n.a.createElement("span",{className:"accented-p"},"Long Pass Completion %")," [Opta] The percentage of attempted long passes that successfully found a teammate."),n.a.createElement("li",null,n.a.createElement("span",{className:"accented-p"},"Successful Dribbles")," [Opta] Successful attempts at taking on a player and making it past them whilst retaining the ball."),n.a.createElement("li",null,n.a.createElement("span",{className:"accented-p"},"Dribble Success %")," [Opta] The percentage of attempted dribbles that were successful."),n.a.createElement("li",null,n.a.createElement("span",{className:"accented-p"},"Times Dispossessed")," [Opta] Number of times tackled by an opponent without attempting to dribble past them."),n.a.createElement("li",null,n.a.createElement("span",{className:"accented-p"},"Interceptions")," [Opta] Preventions of opponents' passes from reaching their teammates."),n.a.createElement("li",null,n.a.createElement("span",{className:"accented-p"},"Tackles Won")," [Opta] Successful dispossessions of opponents, whether the tackling player comes away with the ball or not."),n.a.createElement("li",null,n.a.createElement("span",{className:"accented-p"},"Tackle Win %")," [Opta] The percentage of attempted tackles that were won."),n.a.createElement("li",null,n.a.createElement("span",{className:"accented-p"},"Fouls Committed")," [Opta] Illegal manoeuvres that resulted in free kicks for the opposing team, excluding offsides."),n.a.createElement("li",null,n.a.createElement("span",{className:"accented-p"},"Recoveries")," [Opta] Successful tackles + interceptions."),n.a.createElement("li",null,n.a.createElement("span",{className:"accented-p"},"Aerial Duels Won")," [Opta] Headers won in direct contests with opponents"),n.a.createElement("li",null,n.a.createElement("span",{className:"accented-p"},"Aerial Duel Win %")," [Opta] The percentage of attempted aerial duels that were won."),n.a.createElement("li",null,n.a.createElement("span",{className:"accented-p"},"Blocks")," [Opta] Preventions of opponents' shots from reaching the goal."),n.a.createElement("li",null,n.a.createElement("span",{className:"accented-p"},"Clearances")," [Opta] Actions by defending players that temporarily removed the attacking threat on their goal/that effectively alleviated pressure on their goal.")))),n.a.createElement("div",{id:"contact",style:{backgroundColor:"#f4f5f6"},className:"homepage-section-container"},n.a.createElement("div",{id:"contact-section-container"},n.a.createElement("h2",null,"Contact"),n.a.createElement("p",null,"For any bug reports, suggestions or questions, please feel free to reach out to me at either of the following:"),n.a.createElement("ul",null,n.a.createElement("li",null,"Twitter: ",n.a.createElement("a",{href:"https://twitter.com/DyslexicDdue"},"@DyslexicDdue")),n.a.createElement("li",null,"Email: ",n.a.createElement("a",{href:"mailto:footballslices@gmail.com"},"FootballSlices@gmail.com"))))))}}]),t}(s.Component),w=a(22),P=a(37),N=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={name:a.props.name},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement(r.b,{to:"/search/"+this.state.name+"/all"},n.a.createElement("div",{tabIndex:"0",className:"search-result"},n.a.createElement("div",{className:"name"},this.state.name)))}}]),t}(s.Component),O=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).getSearchResults=function(){var e;e=void 0===a.state.searchByClub?"playersAndClubs":"playersByClub",fetch("/api/search",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:a.state.query,type:e})}).then((function(e){if(e.ok)return e.json();throw new Error("No results found")})).then((function(e){return a.processSearchResults(e)})).catch((function(e){return a.setState({error:e,isLoading:!1})}))},a.hideMenu=function(){a.setState({openMenu:!1})},a.handleInputChange=function(e,t){var s;"input-change"===t.action&&(s=0!==e.length,a.setState({openMenu:s}))};var s=e.match.params.query,n=e.match.params.searchByClub;return a.state={isLoading:!1,error:null,query:s,searchByClub:n,playerSearchResults:[],filteredPlayerSearchResults:[],openMenu:!1,clubSearchResults:[],names:[],clubs:[],nationalities:[],reactSelectStyle:{control:function(e,t){return Object(w.a)({},e,{boxShadow:"none","&:hover":{borderColor:"#B23535"},"&:focus":{borderColor:"#B23535"}})}},reactSelectTheme:function(e){return Object(w.a)({},e,{colors:Object(w.a)({},e.colors,{primary25:"pink",primary:"#e75453"})})}},a.filterByClub=a.filterByClub.bind(Object(f.a)(a)),a.filterByName=a.filterByName.bind(Object(f.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0},(function(){e.getSearchResults()}))}},{key:"componentWillReceiveProps",value:function(e,t){var a=this,s=e.match.params,n=s.query,l=s.searchByClub;this.setState({isLoading:!0,query:n,searchByClub:l},(function(){a.getSearchResults()}))}},{key:"processSearchResults",value:function(e){for(var t=e.playerSearchResults,a=e.clubSearchResults,s=[],n=[],l=[],r=function(e){for(var a=t[e],r=a.club,i=function(e){var t={value:a.club[e],label:a.club[e]};!n.filter((function(e){return e.value===t.value})).length>0&&n.push(t)},c=0;c<r.length;c++)i(c);var o={value:a.nationality,label:a.nationality},u={value:a.name,label:a.name};s.push(u),!l.filter((function(e){return e.value===o.value})).length>0&&l.push(o)},i=0;i<t.length;i++)r(i);this.setState({playerSearchResults:t,filteredPlayerSearchResults:t,clubSearchResults:a,names:s,clubs:n,nationalities:l,isLoading:!1,error:null})}},{key:"filterByClub",value:function(e){var t=this;console.log(e);var a=JSON.parse(JSON.stringify(this.state.playerSearchResults)),s=[];if(null===e||0===e.length)s=a;else for(var n=0;n<a.length;n++)for(var l=0;l<e.length;l++)a[n].club.includes(e[l].value)&&!s.includes(a[n])&&s.push(a[n]);this.setState({filteredPlayerSearchResults:[]},(function(){t.setState({filteredPlayerSearchResults:s})}))}},{key:"filterByName",value:function(e){var t=this,a=JSON.parse(JSON.stringify(this.state.playerSearchResults)),s=[];if(null===e)s=a;else for(var n=0;n<a.length;n++)a[n].name.toUpperCase().includes(e.value.toUpperCase())&&s.push(a[n]);this.setState({filteredPlayerSearchResults:[]},(function(){t.setState({filteredPlayerSearchResults:s,openMenu:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.isLoading,s=e.filteredPlayerSearchResults,l=e.clubSearchResults,r=(e.clubs,e.names),i=e.searchByClub,c=e.openMenu,o=e.reactSelectStyle,u=e.reactSelectTheme;if(a)return n.a.createElement(v,null);if(null!==t)return n.a.createElement("div",{id:"main"},n.a.createElement(y,{type:1,query:this.state.query}),n.a.createElement("div",{className:"screen",id:"error-screen"},n.a.createElement("p",null,t.message)));for(var m=[],p=0;p<s.length;p++){var h=s[p];m.push(n.a.createElement(E,{page:"search",name:h.name,club:h.club,nationality:h.nationality,URL:h.URL,all:h.all}))}for(var d,b,f=[],g=0;g<l.length;g++){var C=l[g];f.push(n.a.createElement(N,{name:C}))}return b=n.a.createElement("h3",null,"Search results for ",n.a.createElement("br",null),'"player.club = ',this.state.query,'"'),d=n.a.createElement(P.a,{styles:o,theme:u,placeholder:"Filter players by name",onChange:this.filterByName,onInputChange:this.handleInputChange,onBlur:this.hideMenu,isClearable:!0,menuIsOpen:c,options:r,components:{DropdownIndicator:function(){return null},IndicatorSeparator:function(){return null}}}),n.a.createElement("div",{id:"main"},n.a.createElement(y,{type:1,query:this.state.query}),n.a.createElement("div",{className:"screen",id:"search-screen"},n.a.createElement("div",{className:"filter",id:"search-filters"},b,n.a.createElement("div",{id:"search-filter-inputs"},d)),n.a.createElement("div",{className:"result",id:"search-results"},void 0===i?n.a.createElement("h3",null,"Players"):null,0===m.length&&void 0===i?n.a.createElement("p",null,"No results found"):null,n.a.createElement("div",{id:"player-search-results"},m),void 0===i?n.a.createElement("h3",{style:{marginTop:"20px"}},"Clubs"):null,0===f.length&&void 0===i?n.a.createElement("p",null,"No results found"):null,n.a.createElement("div",{id:"club-search-results"},f))))}}]),t}(s.Component),x=a(27),A=a.n(x),T=(a(49),a(19)),j=a.n(T),L=a(34),R=a.n(L),M=a(35),F=a.n(M),B=a(36),D=a.n(B);R()(j.a),F()(j.a);var W=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).getStats=function(){var e=a.props.match.params.URL;fetch("/api/stats",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({URL:e})}).then((function(e){return e.json()})).then((function(e){return a.processStats(e)}))};return a.state={isLoading:!1,allStats:{},percentiles:a.props.percentiles,allCompetitions:[],selectedCompetitions:[],categories:{FW:["Non-Penalty Goals","Non-Penalty xG","Conversion Rate","Shots on Target %","Assists","xA","Passes into the Penalty Area","Pass Completion %","Successful Dribbles","Dribble Success %","Times Dispossessed","Recoveries"],AM:["Non-Penalty Goals","Non-Penalty xG","Assists","xA","Passes into the Penalty Area","Pass Completion %","Completed Crosses","Cross Completion %","Successful Dribbles","Dribble Success %","Times Dispossessed","Recoveries"],CM:["Non-Penalty Goals+Assists","Non-Penalty xG+xA","Passes into the Final 1/3","Pass Completion %","Completed Long Passes","Long Pass Completion %","Successful Dribbles","Dribble Success %","Interceptions","Tackles Won","Tackle Win %","Fouls Committed"],FB:["Assists","xA","Passes into the Final 1/3","Pass Completion %","Completed Crosses","Cross Completion %","Successful Dribbles","Dribble Success %","Interceptions","Tackles Won","Tackle Win %","Fouls Committed"],CB:["Passes into the Final 1/3","Pass Completion %","Completed Long Passes","Long Pass Completion %","Interceptions","Tackles Won","Tackle Win %","Fouls Committed","Aerial Duels Won","Aerial Duel Win %","Blocks","Clearances"],"N/A":["-","-","-","-","-","-","-","-","-","-","-","-"]},selectedCategories:null,template:null,labelType:"raw",name:"",age:0,url:"",isAll:!1,multipleClubs:!1,isMobile:a.props.isMobile,creditsPosition:"right",animation:!0,fontSizes:{title:!0===a.props.isMobile?"4vw":"2em",subtitle:!0===a.props.isMobile?"2.7vw":"1.4em",noData:!0===a.props.isMobile?"2.7vw":"1.35em",xAxisLabels:!0===a.props.isMobile?"2.3vw":"1.15em",dataLabels:!0===a.props.isMobile?"2.3vw":"1.25em",dataLabelsOutline:!0===a.props.isMobile?"0.3vw":"0.2em",tooltipHeader:!0===a.props.isMobile?"2.3vw":"1em",tooltip:!0===a.props.isMobile?"2.3vw":"1.25em",credits:!0===a.props.isMobile?"2vw":"1.15em",yAxisLabels:!0===a.props.isMobile?"1vw":"0.5em"}},a.processStats=a.processStats.bind(Object(f.a)(a)),a.changeTemplate=a.changeTemplate.bind(Object(f.a)(a)),a.changeSelectedCompetitions=a.changeSelectedCompetitions.bind(Object(f.a)(a)),a.changeLabelType=a.changeLabelType.bind(Object(f.a)(a)),a.selectAllCompetitions=a.selectAllCompetitions.bind(Object(f.a)(a)),a.clearAllCompetitions=a.clearAllCompetitions.bind(Object(f.a)(a)),a.toggleCreditsPosition=a.toggleCreditsPosition.bind(Object(f.a)(a)),a.exportAsImage=a.exportAsImage.bind(Object(f.a)(a)),a.filterStats=a.filterStats.bind(Object(f.a)(a)),a.calculateChartInput=a.calculateChartInput.bind(Object(f.a)(a)),a.percentRank=a.percentRank.bind(Object(f.a)(a)),a.roundNumbers=a.roundNumbers.bind(Object(f.a)(a)),a.ordinalSuffix=a.ordinalSuffix.bind(Object(f.a)(a)),a.insertChartInput=a.insertChartInput.bind(Object(f.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0},(function(){e.getStats()})),this.chartRef=this.chartRef=n.a.createRef()}},{key:"processStats",value:function(e){var t=this.state.categories,a=1!==e.club.length,s=t[e.position];this.setState({url:e.url,name:e.name,age:e.age,club:e.club[0],template:e.position,selectedCategories:s,lastUpdated:e.lastUpdated,allStats:e.stats,allCompetitions:Object.keys(e.stats),selectedCompetitions:Object.keys(e.stats),isLoading:!1,multipleClubs:a},(function(){}))}},{key:"changeSelectedCompetitions",value:function(e){var t=this.state.selectedCompetitions,a=e.target.value;t.includes(a)?t.splice(t.indexOf(a),1):t.push(a),this.setState({selectedCompetitions:t,animation:!0})}},{key:"selectAllCompetitions",value:function(e){var t=JSON.parse(JSON.stringify(this.state.allCompetitions));this.setState({selectedCompetitions:t})}},{key:"clearAllCompetitions",value:function(e){this.setState({selectedCompetitions:[]})}},{key:"toggleCreditsPosition",value:function(e){var t;t="right"===this.state.creditsPosition?"center":"right",this.setState({animation:!1,creditsPosition:t})}},{key:"exportAsImage",value:function(){var e=this.state.isMobile,t=this.state.name,a=e?1:2,s=document.getElementsByClassName("highcharts-container")[0];if(e)A.a.toPng(s,{bgcolor:"#fafbfc",style:{"background-size":"25%"}}).then((function(e){window.saveAs(e,"".concat(t.replace(" ","-"),".png"))})).catch((function(e){alert("An error occurred while downloading the PNG. Please refresh the page and try again")}));else{var n=20/a,l=9/16*(n/100*s.offsetWidth)/s.offsetHeight*100,r=s.offsetWidth/s.offsetHeight;A.a.toPng(s,{bgcolor:"#fafbfc",height:s.offsetHeight*a,width:s.offsetWidth*a,style:{transform:"scale(".concat(a,") translate(").concat(s.offsetWidth/2/a,"px, ").concat(s.offsetHeight/2/a,"px)"),"background-position":"0.3% ".concat(50-.3*r-(l+.3*r)/2,"%"),"background-size":"".concat(n,"%")}}).then((function(e){window.saveAs(e,"".concat(t.replace(" ","-"),".png"))})).catch((function(e){alert("An error occurred while downloading the PNG. Please refresh the page and try again")}))}}},{key:"changeTemplate",value:function(e){var t=this,a=e.target.value;this.setState({template:a,animation:!0},(function(){t.setCategories()}))}},{key:"setCategories",value:function(){var e=this.state.template,t=this.state.categories[e];this.setState({selectedCategories:t})}},{key:"changeLabelType",value:function(e){var t=e.target.value;this.setState({labelType:t,animation:!1})}},{key:"filterStats",value:function(e){var t={},a=this.state.selectedCompetitions;for(var s in e)if(a.includes(s))for(var n in e[s])n in t?t[n]+=e[s][n]:t[n]=e[s][n];return t}},{key:"calculateChartInput",value:function(e,t){var a={},s={};switch(this.state.template){case"FW":for(var n in a.goals=e.goals/(e.minutes/90),a.xG=e.xG/(e.minutes/90),a.conversionRate=e.goals/(e.shots-e.penaltiesTaken)*100,a.shotsOnTarget=(e.shotsOnTarget-e.penaltiesTaken)/(e.shots-e.penaltiesTaken)*100,a.assists=e.assists/(e.minutes/90),a.xA=e.xA/(e.minutes/90),a.PPA=e.PPA/(e.minutes/90),a.passingRate=e.succPasses/e.totalPasses*100,a.succDribbles=e.succDribbles/(e.minutes/90),a.dribbleRate=e.succDribbles/e.totalDribbles*100,a.possessionLosses=e.possessionLosses/(e.minutes/90),a.recoveries=e.tackles/(e.minutes/90)+e.interceptions/(e.minutes/90),a)s[n]=100*this.percentRank(t.fw[n],a[n]);s.possessionLosses=100-s.possessionLosses;break;case"AM":for(var l in a.goals=e.goals/(e.minutes/90),a.xG=e.xG/(e.minutes/90),a.assists=e.assists/(e.minutes/90),a.xA=e.xA/(e.minutes/90),a.PPA=e.PPA/(e.minutes/90),a.passingRate=e.succPasses/e.totalPasses*100,a.succCrosses=e.succCrosses/(e.minutes/90),a.crossRate=e.succCrosses/e.totalCrosses*100,a.succDribbles=e.succDribbles/(e.minutes/90),a.dribbleRate=e.succDribbles/e.totalDribbles*100,a.possessionLosses=e.possessionLosses/(e.minutes/90),a.recoveries=e.tackles/(e.minutes/90)+e.interceptions/(e.minutes/90),a)s[l]=100*this.percentRank(t.am[l],a[l]);s.possessionLosses=100-s.possessionLosses;break;case"CM":for(var r in a.goalsPlusAssists=(e.goals+e.assists)/(e.minutes/90),a.xGPlusxA=(e.xG+e.xA)/(e.minutes/90),a.PFT=e.PFT/(e.minutes/90),a.passingRate=e.succPasses/e.totalPasses*100,a.succLongPasses=e.succLongPasses/(e.minutes/90),a.longPassingRate=e.succLongPasses/e.totalLongPasses*100,a.succDribbles=e.succDribbles/(e.minutes/90),a.dribbleRate=e.succDribbles/e.totalDribbles*100,a.interceptions=e.interceptions/(e.minutes/90),a.tackles=e.tackles/(e.minutes/90),a.tackleRate=e.tackles/(e.tackles+e.dribbledPast)*100,a.fouls=e.fouls/(e.minutes/90),a)s[r]=100*this.percentRank(t.cm[r],a[r]);s.fouls=100-s.fouls;break;case"FB":for(var i in a.assists=e.assists/(e.minutes/90),a.xA=e.xA/(e.minutes/90),a.PFT=e.PFT/(e.minutes/90),a.passingRate=e.succPasses/e.totalPasses*100,a.succCrosses=e.succCrosses/(e.minutes/90),a.crossRate=e.succCrosses/e.totalCrosses*100,a.succDribbles=e.succDribbles/(e.minutes/90),a.dribbleRate=e.succDribbles/e.totalDribbles*100,a.interceptions=e.interceptions/(e.minutes/90),a.tackles=e.tackles/(e.minutes/90),a.tackleRate=e.tackles/(e.tackles+e.dribbledPast)*100,a.fouls=e.fouls/(e.minutes/90),a)s[i]=100*this.percentRank(t.fb[i],a[i]);s.fouls=100-s.fouls;break;case"CB":for(var c in a.PFT=e.PFT/(e.minutes/90),a.passingRate=e.succPasses/e.totalPasses*100,a.succLongPasses=e.succLongPasses/(e.minutes/90),a.longPassingRate=e.succLongPasses/e.totalLongPasses*100,a.interceptions=e.interceptions/(e.minutes/90),a.tackles=e.tackles/(e.minutes/90),a.tackleRate=e.tackles/(e.tackles+e.dribbledPast)*100,a.fouls=e.fouls/(e.minutes/90),a.succAerialDuels=e.succAerialDuels/(e.minutes/90),a.aerialDuelRate=e.succAerialDuels/e.totalAerialDuels*100,a.blocks=e.blocks/(e.minutes/90),a.clearances=e.clearances/(e.minutes/90),a)s[c]=100*this.percentRank(t.cb[c],a[c]);s.fouls=100-s.fouls;break;case"N/A":for(var o in a.goals=0,a.xG=0,a.conversionRate=0,a.shotsOnTarget=0,a.assists=0,a.xA=0,a.PPA=0,a.passingRate=0,a.succDribbles=0,a.dribbleRate=0,a.possessionLosses=0,a.recoveries=0,a)s[o]=0}return this.insertChartInput(a,s)}},{key:"percentRank",value:function(e,t){isFinite(t)||(t=0);for(var a=0,s=e.length;a<s;a++)if(t<e[a]){for(;a<s&&t===e[a];)a++;return 0===a?0:(t!==e[a-1]&&(a+=(t-e[a-1])/(e[a]-e[a-1])),a/s)}return 1}},{key:"roundNumbers",value:function(e,t){for(var a in e)isFinite(e[a])?e[a]=Math.round(e[a]*Math.pow(10,t))/Math.pow(10,t):e[a]=0;return e}},{key:"ordinalSuffix",value:function(e){var t=e%10,a=e%100;return 1===t&&11!==a?e+"st":2===t&&12!==a?e+"nd":3===t&&13!==a?e+"rd":e+"th"}},{key:"insertChartInput",value:function(e,t){var a=this.state.template,s=[];s="FW"===a?[5,5,5,5,6,6,6,6,2,2,2,0]:"AM"===a?[5,5,6,6,6,6,6,6,2,2,2,0]:"CM"===a?[8,8,6,6,6,6,2,2,0,0,0,0]:"FB"===a?[6,6,6,6,6,6,2,2,0,0,0,0]:"CB"===a?[6,6,6,6,0,0,0,0,0,0,0,0]:[0,0,0,0,0,0,0,0,0,0,0,0],e=this.roundNumbers(e,2),t=this.roundNumbers(t,0);var n=[],l=0;for(var r in t)n[l]={y:t[r],percentile:this.ordinalSuffix(t[r]),p90:e[r],color:j.a.Color(j.a.getOptions().colors[s[l]]).setOpacity(.85).get()},l++;return n}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.age,s=e.url,l=e.club,r=e.lastUpdated,i=e.selectedCompetitions,c=e.template,o=e.selectedCategories,u=e.labelType,m=e.allStats,p=e.percentiles,h=e.isLoading,d=e.multipleClubs,b=e.fontSizes,f=e.creditsPosition,g=e.animation,E=e.isMobile;if(h)return n.a.createElement(v,null);for(var C=this.state.allCompetitions,k=[],S=0;S<C.length;S++){var w=C[S],P=i.includes(w),N=w;d||(N=N.substring(0,N.indexOf("|")-1)),k.push(n.a.createElement("label",{className:P?"selected-label":null},n.a.createElement("input",{className:"competition",type:"checkbox",value:w,onChange:this.changeSelectedCompetitions,checked:P})," ","  "+N))}if(0!==p.length&&0!==Object.keys(m).length&&o!==[]){var O,x=this.filterStats(m),A="";if(0!==i.length){switch(A="Age: ".concat(a," \u2551 Minutes Played: ").concat(x.minutes.toLocaleString(),"<br/>"),O=[this.calculateChartInput(x,p)],c){case"FW":A+="vs Top-5 League Players with 10+ Starts as Forwards<br/>";break;case"AM":A+="vs Top-5 League Players with 10+ Starts as Attacking Midfielders / Wingers<br/>";break;case"CM":A+="vs Top-5 League Players with 10+ Starts as Central / Defensive Midfielders<br/>";break;case"FB":A+="vs Top-5 League Players with 10+ Starts as Full-backs<br/>";break;case"CB":A+="vs Top-5 League Players with 10+ Starts as Center-backs<br/>";break;case"N/A":A+="No template selected<br/>"}A+="N/A"!==c?"Percentile Rank Bars w/ Per 90 Stats<br/>":"-<br/>"}else O=[],A="-<br>-<br>-";var T="Last Updated: ".concat(r," UTC ").concat(E?"<br/>.<br/>":"<br/>","Sources: Opta (via WhoScored.com) & StatsBomb (via FBref.com)"),L=E?-40:-20,R={chart:{animation:g,backgroundColor:"rgba(0, 0, 0, 0)",style:{fontFamily:"sans-serif"},parallelCoordinates:!0,parallelAxes:{labels:{enabled:!1,style:{color:"#444444",fontSize:b.yAxisLabels}},gridZIndex:5,lineWidth:0,endOnTick:!0,showFirstLabel:!1,showLastLabel:!0,min:-15,max:100,tickPositions:[-15,0,25,50,75,100]},polar:!0,type:"column",spacingLeft:0,spacingRight:0,marginLeft:90,marginRight:90,marginBottom:"right"!==f||E?60:30,events:{load:function(){this.title.element.onclick=function(){window.open(s,"_blank")}}}},credits:{text:T,position:{align:f,y:L},style:{fontSize:b.credits},href:""},plotOptions:{series:{dataLabels:{enabled:"N/A"!==c,style:{fontWeight:"bold",fontSize:b.dataLabels,textOutline:b.dataLabelsOutline+" #fafbfc"},format:"raw"===u?"{point.p90}":"{point.percentile}",padding:0,allowOverlap:!0,z:7}}},title:{text:t+", 19/20",style:{color:"#e75453",fontSize:b.title,fontWeight:"bold"},margin:35},pane:{startAngle:-15},lang:{noData:"Select a competition"},noData:{attr:{zIndex:6},style:{fontWeight:"bold",fontSize:b.noData,color:"#303030"}},subtitle:{text:A,style:{fontWeight:"bold",fontSize:b.subtitle}},tooltip:{headerFormat:'<span style="font-size: '+b.tooltipHeader+'">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}<br>Raw Value: <b>{point.p90}</b><br/>Percentile Rank: <b>{point.percentile}</b>',style:{fontSize:b.tooltip}},legend:{enabled:!1,borderWidth:1,align:"center",verticalAlign:"bottom",layout:"horizontal"},xAxis:{categories:o,labels:{zIndex:1,distance:!0===E?60:40,style:{color:"black",fontSize:b.xAxisLabels},padding:31},gridLineWidth:1.5,gridLineColor:"#333333",gridZIndex:4},series:O.map((function(e,a){return{pointPadding:0,groupPadding:0,name:t,data:e,stickyTracking:!1,zIndex:0}})),exporting:{scale:1,sourceWidth:1920,sourceHeight:1080,buttons:{contextButton:{menuItems:["viewFullscreen","printChart"]}}}}}return n.a.createElement("div",{id:"main2"},n.a.createElement(y,{type:2}),n.a.createElement("div",{className:"screen2",id:"content-screen"},n.a.createElement("div",{className:"filter",id:"chart-filters"},n.a.createElement("div",{className:"chart-filter-inputs",id:"chart-filter-inputs-laptop"},n.a.createElement("h3",null,"Template"),n.a.createElement("form",{id:"templates",onChange:this.changeTemplate},n.a.createElement("label",null,n.a.createElement("input",{type:"radio",name:"template",value:"FW",checked:"FW"===c||null})," Forward "),n.a.createElement("label",null,n.a.createElement("input",{type:"radio",name:"template",value:"AM",checked:"AM"===c||null})," Attacking Midfielder / Winger"),n.a.createElement("label",null,n.a.createElement("input",{type:"radio",name:"template",value:"CM",checked:"CM"===c||null})," Central / Defensive Midfielder"),n.a.createElement("label",null,n.a.createElement("input",{type:"radio",name:"template",value:"FB",checked:"FB"===c||null})," Full-back "),n.a.createElement("label",null,n.a.createElement("input",{type:"radio",name:"template",value:"CB",checked:"CB"===c||null})," Center-back ")),n.a.createElement("h3",null,"Competitions"),n.a.createElement("h4",{style:{marginBottom:"10px"}},"19/20 ",!1===d?" | "+l:null),n.a.createElement("form",{id:"competitions"},k),n.a.createElement("h3",null,"Data Labels"),n.a.createElement("form",{id:"data-labels",onChange:this.changeLabelType},n.a.createElement("label",{className:"raw"===u?"selected-label":null},n.a.createElement("input",{type:"radio",name:"labelType",value:"raw",checked:"raw"===u||null})," ",n.a.createElement("span",null,"Per 90 Stats")),n.a.createElement("label",{className:"percentiles"===u?"selected-label":null},n.a.createElement("input",{type:"radio",name:"labelType",value:"percentiles",checked:"percentiles"===u||null})," ",n.a.createElement("span",null,"Percentile Ranks")))),n.a.createElement("div",{className:"chart-filter-inputs",id:"chart-filter-inputs-mobile"},n.a.createElement("div",{id:"templates-container"},n.a.createElement("h3",null,"Template"),n.a.createElement("form",{id:"templates",onChange:this.changeTemplate},n.a.createElement("label",{className:"FW"===c?"selected-label":null},n.a.createElement("input",{type:"radio",name:"template",value:"FW",checked:"FW"===c||null})," ",n.a.createElement("span",null,"Forward")),n.a.createElement("label",{className:"AM"===c?"selected-label":null},n.a.createElement("input",{type:"radio",name:"template",value:"AM",checked:"AM"===c||null})," ",n.a.createElement("span",null,"Attacking Midfielder / Winger")),n.a.createElement("label",{className:"CM"===c?"selected-label":null},n.a.createElement("input",{type:"radio",name:"template",value:"CM",checked:"CM"===c||null})," ",n.a.createElement("span",null,"Central / Defensive Midfielder")),n.a.createElement("label",{className:"FB"===c?"selected-label":null},n.a.createElement("input",{type:"radio",name:"template",value:"FB",checked:"FB"===c||null})," ",n.a.createElement("span",null,"Full-back")),n.a.createElement("label",{className:"CB"===c?"selected-label":null},n.a.createElement("input",{type:"radio",name:"template",value:"CB",checked:"CB"===c||null})," ",n.a.createElement("span",null,"Center-back")))),n.a.createElement("div",{id:"competitions-container"},n.a.createElement("h3",{style:{marginBottom:"0px"}},"Competitions"),n.a.createElement("h4",{style:{marginBottom:"20px"}},"19/20 ",!1===d?" | "+l:null),n.a.createElement("form",{id:"competitions"},k)),n.a.createElement("h3",null,"Data Labels"),n.a.createElement("form",{id:"data-labels",onChange:this.changeLabelType},n.a.createElement("label",{className:"raw"===u?"selected-label":null},n.a.createElement("input",{type:"radio",name:"labelType",value:"raw",checked:"raw"===u||null})," ",n.a.createElement("span",null,"Per 90 Stats")),n.a.createElement("label",{className:"percentiles"===u?"selected-label":null},n.a.createElement("input",{type:"radio",name:"labelType",value:"percentiles",checked:"percentiles"===u||null})," ",n.a.createElement("span",null,"Percentile Ranks")))),n.a.createElement("div",{id:"filter-buttons"},n.a.createElement("div",{className:"filter-button"},n.a.createElement("button",{id:"toggleCreditsButton",type:"button",onClick:this.toggleCreditsPosition},"Toggle Credits Position")),n.a.createElement("div",{className:"filter-button"},n.a.createElement("button",{id:"exportButton",type:"button",onClick:this.exportAsImage},"Export Chart as PNG")),n.a.createElement("div",{className:"filter-button"},n.a.createElement("button",{id:"compareButton",type:"button",disabled:!0},"Compare To...")))),n.a.createElement("div",{className:"result",id:"chart"},n.a.createElement(D.a,{constructorType:"chart",highcharts:j.a,containerProps:{style:{width:"100%"}},options:R,ref:this.chartRef}))))}}]),t}(s.Component);a(50),h.isMobileOnly&&a.e(3).then(a.t.bind(null,52,7)).then((function(e){console.log("Mobile device detected")}));var I=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).getPercentiles=function(){fetch("/api/percentiles",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}).then((function(e){return e.json()})).then((function(e){return a.setState({percentiles:e})})).catch()},a.state={percentiles:{},isMobile:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){b()((function(){if(h.isMobileOnly){var e=Math.max(document.documentElement.clientHeight,window.innerHeight||0);b()("html, body, #root, #root-container").css({height:e})}})),this.getPercentiles()}},{key:"render",value:function(){var e=this;return n.a.createElement(p.c,null,n.a.createElement((function(){return n.a.createElement("div",{id:"root-container"},n.a.createElement(p.c,null,n.a.createElement(p.a,{exact:!0,path:"/",component:S}),n.a.createElement(p.a,{exact:!0,path:"/",render:function(e){return n.a.createElement(S,Object.assign({},e,{isMobile:h.isMobileOnly}))}}),n.a.createElement(p.a,{path:"/search/:query/:searchByClub?",component:O}),n.a.createElement(p.a,{path:"/stats/:URL",render:function(t){return n.a.createElement(W,Object.assign({},t,{percentiles:e.state.percentiles,isMobile:h.isMobileOnly}))}})))}),null))}}]),t}(s.Component);Object(l.render)(n.a.createElement(r.a,null,n.a.createElement(I,null)),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.7f9a2eba.chunk.js.map
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{28:function(e,t,a){e.exports=a.p+"static/media/mockups.7dea4274.png"},35:function(e,t,a){e.exports=a(50)},40:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),l=a(25),r=a(11),i=(a(40),a(1)),o=a(2),c=a(4),p=a(3),d=a(5),u=a(12),m=a(16),h=a(9),b=a.n(h),f=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){a.setState({query:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.props.history.push("/search/"+a.state.query)},a.state={page:a.props.page,query:a.props.query||""},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e,t,a=this.state,s=a.page,l=a.query;switch(s){case"home":e="searchbar-container1";break;case"search":e="searchbar-container2";break;case"stats":e="searchbar-container3";break;default:e="searchbar-container1"}return"home"!==s&&(t=n.a.createElement(r.b,{to:"/"},n.a.createElement("div",{id:"home-button"},n.a.createElement("div",null,"Football",n.a.createElement("span",{style:{color:"#e4c000",display:"block"}},"Slices",n.a.createElement("span",{style:{color:"black"}},".com")))))),n.a.createElement("div",{className:"searchbar-container",id:e},n.a.createElement("form",{id:"searchbar-form",onSubmit:this.handleSubmit},t,n.a.createElement("input",{type:"text",id:"searchbar-input",value:l,placeholder:"Search for players, clubs...",autoComplete:"off",onChange:this.handleChange})))}}]),t}(s.Component),g=Object(u.f)(f),y=function(e){function t(e){var a;Object(i.a)(this,t);var s=(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).props.clubs,n=[];for(var l in s)n.push(l);return s=s[n[n.length-1]],a.state={page:a.props.page,code:a.props.code,name:a.props.name,clubs:s,nationality:a.props.nationality},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.page,a=e.code,s=e.name,l=e.clubs,i=e.nationality,o="home"===t?"sample-player":"search-result",c="home"===t?"":1===l.length?"Club:":"Clubs:";return n.a.createElement(r.b,{to:"/stats/"+a},n.a.createElement("div",{tabIndex:"0",className:o},n.a.createElement("div",{className:"name"},s),n.a.createElement("div",{className:"club"},c," ",l.join(", ")),n.a.createElement("div",{className:"nationality"},"Nationality: ",i)))}}]),t}(s.Component),E=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{id:"main"},n.a.createElement("div",{className:"screen",id:"loading-screen"},n.a.createElement("div",{className:"loader"},"Loading...")))}}]),t}(s.Component),v=a(28),S=a.n(v),k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e)))._isMounted=!1,a.getSamplePlayers=function(){var e=a.state.isMobile;fetch("/api/samplePlayers",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}).then((function(e){return e.json()})).then((function(t){if(a._isMounted){if(a.setState({samplePlayers:t,isLoading:!1}),e){var s=Math.max(document.documentElement.clientHeight,window.innerHeight||0),n=.06*s;b()("#home").css({height:s}),b()("#navbar-container").css({height:n})}b()("#navbar-hidden").addClass("preload")}}))},a.toggleNavbar=function(){var e=b()(".responsive-navbar");"navbar-hidden"===e.attr("id")?e.attr("id","navbar-expanded"):(b()("#navbar-expanded").removeClass("preload"),e.attr("id","navbar-hidden"))},a.hideNavbar=function(){b()("#navbar-expanded").removeClass("preload"),b()(".responsive-navbar").attr("id","navbar-hidden")},a.state={isMobile:a.props.isMobile,isLoading:!0,samplePlayers:[]},a.getSamplePlayers(),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.samplePlayers;if(t)return n.a.createElement(E,null);for(var s=[],l=0;l<a.length;l++){var r=a[l];s.push(n.a.createElement(y,{page:"home",code:r.code,name:r.name,clubs:r.clubs,nationality:r.nationality,key:l}))}return n.a.createElement("div",{id:"homepage"},n.a.createElement("div",{id:"navbar-container"},n.a.createElement("div",{className:"navbar",id:"navbar-normal"},n.a.createElement("a",{href:"#home"},n.a.createElement("div",null,"Home")),n.a.createElement("a",{href:"#preview"},n.a.createElement("div",null,"Preview")),n.a.createElement("a",{href:"#glossary"},n.a.createElement("div",null,"Glossary")),n.a.createElement("a",{href:"#faq"},n.a.createElement("div",null,"F.A.Q.")),n.a.createElement("a",{href:"#contact"},n.a.createElement("div",null,"Contact")),n.a.createElement("button",{onClick:this.toggleNavbar,id:"burger-icon-container"},n.a.createElement("div",{id:"burgerIcon"},n.a.createElement("i",{className:"fa fa-bars"})))),n.a.createElement("div",{className:"navbar responsive-navbar",id:"navbar-hidden"},n.a.createElement("a",{onClick:this.hideNavbar,href:"#preview"},n.a.createElement("div",null,"Preview")),n.a.createElement("a",{onClick:this.hideNavbar,href:"#glossary"},n.a.createElement("div",null,"Glossary")),n.a.createElement("a",{onClick:this.hideNavbar,href:"#faq"},n.a.createElement("div",null,"F.A.Q.")),n.a.createElement("a",{onClick:this.hideNavbar,href:"#contact"},n.a.createElement("div",null,"Contact")))),n.a.createElement("div",{id:"home"},n.a.createElement("h1",null,"Football",n.a.createElement("span",{style:{color:"#e4c000"}},"Slices")),n.a.createElement(g,{page:"home"}),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("p",null,"...or try using a sample player"),n.a.createElement("br",null),n.a.createElement("div",{id:"sample-results"},s)),n.a.createElement("div",{id:"preview",className:"homepage-section-container"},n.a.createElement("div",{id:"preview-section-container"},n.a.createElement("div",{id:"preview-text"},n.a.createElement("h2",null,"Preview"),n.a.createElement("p",null,"FootballSlices are stats visualizations that are supported by an entirely automated data retrieval process. The tool sifts through mountains of numbers so you don't have to!"),n.a.createElement("p",null,"Explore a database of more than ",n.a.createElement("b",null,"2,700 players")," from ",n.a.createElement("b",null,"Europe's top 5 leagues"),", with stats from the ",n.a.createElement("b",null,"2018/19")," and ",n.a.createElement("b",null,"2019/20")," seasons."),n.a.createElement("p",null,"Simply choose a positional template, toggle the competitions you'd like to include, and visualize statistics in seconds with interactive percentile rank bar charts, powered by ",n.a.createElement("a",{href:"https://www.highcharts.com",target:"_blank",rel:"noopener noreferrer"},"Highcharts.js"),"."),n.a.createElement("p",null,n.a.createElement("span",{className:"accented-p"},"Interpreting FootballSlices")),n.a.createElement("p",null,"Each slice is made up of wedges. The size of each wedge corresponds to the percentile rank of the selected player with regards to the stat represented by the wedge. The data labels show the raw values."),n.a.createElement("p",null,"The colours help to group similar-ish stats together (as well as improve the charts' visual impact)."),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#f15c80",fontWeight:"bold"}},"Red")," is for goal-scoring & shooting stats,"),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#e4c000",fontWeight:"bold"}},"Yellow")," is for passing, chance creation & ball progression"),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#87e179",fontWeight:"bold"}},"Green")," is for dribbling & ball retention"),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#7db9f0",fontWeight:"bold"}},"Blue")," is for defending"),n.a.createElement("li",null,"and ",n.a.createElement("span",{style:{color:"#787ccd",fontWeight:"bold"}},"Purple")," is for goalkeeping stats"))),n.a.createElement("div",{id:"preview-image"},n.a.createElement("img",{src:S.a,alt:"Mock-ups"})))),n.a.createElement("div",{id:"glossary",style:{backgroundColor:"#f5f6f7"},className:"homepage-section-container"},n.a.createElement("div",{id:"glossary-section-container"},n.a.createElement("h2",null,"Glossary"),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#f15c80",fontWeight:"bold"}},"Non-Penalty Goal"),"\xa0 A goal that did not stem directly from a penalty kick."),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#f15c80",fontWeight:"bold"}},"Non-Penalty xG (Expected Goals)"),"\xa0 Expected goals that did not stem directly from penalty kicks.*"),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#f15c80",fontWeight:"bold"}},"Non-Penalty xG/Shot"),"\xa0 The average expected goal value of shots taken, excluding penalty kicks."),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#f15c80",fontWeight:"bold"}},"Conversion Rate"),"\xa0 The percentage of shots that resulted in goals, excluding penalty kicks."),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#f15c80",fontWeight:"bold"}},"Aerial Win %"),"\xa0 The percentage of aerials duels contested that were won."),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#e4c000",fontWeight:"bold"}},"Touch in Box"),"\xa0 Having possession of the ball in the opposition's penalty area. (Note: Receiving a pass, then dribbling, then sending a pass counts as one touch)"),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#e4c000",fontWeight:"bold"}},"xA (Expected Assists)"),"\xa0 Expected goals that resulted from shot assists, including set pieces.*"),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#e4c000",fontWeight:"bold"}},"OP (Open Play) Shot-Creating Action"),"\xa0 Excluding set pieces, one of the last two offensive actions that directly led to a shot; such as a pass, dribble or a drawn foul. (Note: A single player can receive credit for multiple actions and the shot-taker can also receive credit)"),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#e4c000",fontWeight:"bold"}},"Pass into Box"),"\xa0 A completed pass that entered the opposition's penalty area, excluding set pieces."),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#e4c000",fontWeight:"bold"}},"Pass into Final 1/3"),"\xa0 A completed pass that entered the third of the pitch that is closest to the opposition's goal, excluding set pieces."),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#e4c000",fontWeight:"bold"}},"Progressive Distance"),"\xa0 Distance, in yards, that the ball was moved towards the oppositions's goal with passes and carries. (Note: Passes and carries away from the oppositions's goal are counted as zero progressive yards)"),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#e4c000",fontWeight:"bold"}},"Pass Completion %"),"\xa0 The percentage of attempted passes that successfully found a teammate."),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#e4c000",fontWeight:"bold"}},"Long Pass Completion %"),"\xa0 The percentage of attempted passes of 25 yards or more that successfully found a teammate."),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#e4c000",fontWeight:"bold"}},"Launched Pass Completion %"),"\xa0 The percentage of attempted passes of 40 yards or more that successfully found a teammate, including goal kicks."),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#87e179",fontWeight:"bold"}},"Successful Dribble"),"\xa0 A successful attempt at taking on a player and making it past them whilst retaining possession."),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#87e179",fontWeight:"bold"}},"Dribble Success %"),"\xa0 The percentage of attempted dribbles that were successful."),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#87e179",fontWeight:"bold"}},"Dispossessed"),"\xa0 Being tackled by an opponent and losing control of the ball without attempting a dribble."),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#7db9f0",fontWeight:"bold"}},"pAdj"),"\xa0 Possession Adjusted (using the StatsBomb sigmoid function).**"),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#7db9f0",fontWeight:"bold"}},"Successful Pressure"),"\xa0 A pressing action that led to the team regaining possession within the next 5 seconds."),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#7db9f0",fontWeight:"bold"}},"Interception"),"\xa0 A prevention of an opponent's pass from reaching another opponent by moving into the line of the pass."),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#7db9f0",fontWeight:"bold"}},"Tackle Won"),"\xa0 A dispossession of an opponent such that the tackling player's team won possession of the ball."),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#7db9f0",fontWeight:"bold"}},"Tackle/Dribbled Past %"),"\xa0 The percentage of dribblers faced that were tackled."),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#7db9f0",fontWeight:"bold"}},"Aerial Win"),"\xa0 Winning the ball in a duel that was challenged in the air."),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#7db9f0",fontWeight:"bold"}},"Aerial Win %"),"\xa0 The percentage of aerials duels contested that were won."),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#7db9f0",fontWeight:"bold"}},"Clearance"),"\xa0 An action where a player kicked/headed the ball away from their own goal."),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#787ccd",fontWeight:"bold"}},"GSAA (Goals Saved Above Average) %"),"\xa0 (Post-Shot xG \u2212 Goals Conceded) \xf7 Shots on Target Faced.***"),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#787ccd",fontWeight:"bold"}},"Cross Stopping %"),"\xa0 The percentage of attempted crosses into the penalty area that were stopped by the goalkeeper.")),n.a.createElement("div",{id:"glossary-links"},n.a.createElement("span",null,"* ",n.a.createElement("a",{href:"https://fbref.com/en/expected-goals-model-explained/",target:"_blank",rel:"noopener noreferrer"},"Expected goals/assists model explanation")),n.a.createElement("span",null,"** ",n.a.createElement("a",{href:"https://statsbomb.com/2014/06/introducing-possession-adjusted-player-stats/",target:"_blank",rel:"noopener noreferrer"},"Possession adjustment explanation")),n.a.createElement("span",null,"*** ",n.a.createElement("a",{href:"https://statsbomb.com/2018/12/introducing-goalkeeper-radars/",target:"_blank",rel:"noopener noreferrer"},"GSAA % explanation"))))),n.a.createElement("div",{id:"faq",className:"homepage-section-container"},n.a.createElement("div",{id:"faq-section-container"},n.a.createElement("h2",null,"F.A.Q."),n.a.createElement("div",{id:"faq-container"},n.a.createElement("div",{className:"faq-item"},n.a.createElement("p",null,n.a.createElement("span",{className:"accented-p"},"Where does the data come from?")),n.a.createElement("p",null,"The metadata is from ",n.a.createElement("a",{href:"https://www.whoscored.com",target:"_blank",rel:"noopener noreferrer"},"WhoScored.com"),", and the stats are from ",n.a.createElement("a",{href:"https://www.fbref.com",target:"_blank",rel:"noopener noreferrer"},"FBref.com"),".")),n.a.createElement("div",{className:"faq-item"},n.a.createElement("p",null,n.a.createElement("span",{className:"accented-p"},"Who's included in the database? How often is it updated?")),n.a.createElement("p",null,"The database includes all top 5 league players who've made 4 or more league appearances in the 2018/19 or 2019/20 seasons. It's updated after every top 5 league, Champions League or Europa League matchday.")),n.a.createElement("div",{className:"faq-item"},n.a.createElement("p",null,n.a.createElement("span",{className:"accented-p"},"Will the database be expanded to include seasons before 2018/19 and players outside the top 5 leagues?")),n.a.createElement("p",null,"Probably not. At present, ",n.a.createElement("a",{href:"https://www.fbref.com",target:"_blank",rel:"noopener noreferrer"},"FBref.com"),"'s advanced statistics are only available for a few seasons and leagues.")),n.a.createElement("div",{className:"faq-item"},n.a.createElement("p",null,n.a.createElement("span",{className:"accented-p"},"Will a feature be added to compare players on the same chart?")),n.a.createElement("p",null,"Still working on that.")),n.a.createElement("div",{className:"faq-item"},n.a.createElement("p",null,n.a.createElement("span",{className:"accented-p"},"What is a percentile rank? How are they calculated for FootballSlices?")),n.a.createElement("p",null,"The percentile rank of a score is the percentage of scores within a dataset that are equal to or lower than the score. This is of course reversed for stats where a lower value is better, such as the 'fouls committed per 90' stat."),n.a.createElement("p",null,"The percentile ranks for FootballSlices are position-specific. For example, selecting the 'forward' template compares the selected player only to other forwards in the database. The percentile ranks are also season-specific. For example, selecting competitions from the 2018/19 season will only compare the selected player to the 2018/19 dataset. Selecting competitions from multiple seasons will compare the selected player to the combined dataset."),n.a.createElement("p",null,"Please note however that the percentile ranks are not competition-specific. In other words, the selected player's stats are always compared to other players' stats from all competitions, regardless of which competitions are toggled for the selected player.")),n.a.createElement("div",{className:"faq-item"},n.a.createElement("p",null,n.a.createElement("span",{className:"accented-p"},"How are the player positions decided?")),n.a.createElement("p",null,"Position data is obtained using the 'detailed' tab of the ",n.a.createElement("a",{href:"https://whoscored.com/Statistics",target:"_blank",rel:"noopener noreferrer"},"WhoScored.com player statistics table")," to find all players who've made 10 or more league starts in each of the template positions during a particular season."),n.a.createElement("p",null,"Disclaimer: This method has some small quirks. For example, it classifies Martin \xd8degaard as a central midfielder, whereas I feel he's more of an attacking midfielder. It's not perfect but it's the best way I've found to automate the process."))))),n.a.createElement("div",{id:"contact",style:{backgroundColor:"#f5f6f7"},className:"homepage-section-container"},n.a.createElement("div",{id:"contact-section-container"},n.a.createElement("h2",null,"Contact"),n.a.createElement("p",null,"For any bug reports, suggestions or questions, please feel free to reach out to me at either of the following:"),n.a.createElement("ul",null,n.a.createElement("li",null,"Twitter: ",n.a.createElement("a",{href:"https://twitter.com/FootballSlices",target:"_blank",rel:"noopener noreferrer"},"@FootballSlices")),n.a.createElement("li",null,"Email: ",n.a.createElement("a",{href:"mailto:footballslices@gmail.com",target:"_blank",rel:"noopener noreferrer"},"FootballSlices@gmail.com"))))))}}]),t}(s.Component),P=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={name:a.props.name},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state.name;return n.a.createElement(r.b,{to:"/search/"+e+"/all"},n.a.createElement("div",{tabIndex:"0",className:"search-result"},n.a.createElement("div",{className:"name"},e)))}}]),t}(s.Component),x=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e)))._isMounted=!1,a.getSearchResults=function(){var e=void 0===a.state.searchByClub?"playersAndClubs":"playersByClub";fetch("/api/search",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:a.state.query,type:e})}).then((function(e){if(e.ok)return e.json();throw new Error("Failed to fetch search results. Please refresh the page and try again.")})).then((function(e){return a.processSearchResults(e)})).catch((function(e){return a.setState({error:e,isLoading:!1})}))},a.processSearchResults=function(e){var t=e.playerSearchResults,s=e.clubSearchResults;a._isMounted&&a.setState({error:null,isLoading:!1,playerSearchResults:t,filteredPlayerSearchResults:t,clubSearchResults:s})},a.filterByName=function(e){var t=JSON.parse(JSON.stringify(a.state.playerSearchResults)),s=[];if(null===e)s=t;else for(var n=e.target.value.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace("\xd8","O").replace("\xf8","o"),l=0;l<t.length;l++){t[l].name.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace("\xd8","O").replace("\xf8","o").toUpperCase().includes(n.toUpperCase())&&s.push(t[l])}a.setState({filteredPlayerSearchResults:[]},(function(){a.setState({filteredPlayerSearchResults:s,filterValue:void 0})}))};var s=e.match.params.query,n=e.match.params.searchByClub;return a.state={isLoading:!0,error:null,query:s,searchByClub:n,playerSearchResults:[],filteredPlayerSearchResults:[],clubSearchResults:[],filterValue:""},a.getSearchResults(),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"UNSAFE_componentWillReceiveProps",value:function(e,t){var a=this,s=e.match.params,n=s.query,l=s.searchByClub;this.setState({isLoading:!0,query:n,searchByClub:l},(function(){a.getSearchResults()}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.error,s=e.filteredPlayerSearchResults,l=e.clubSearchResults,r=e.searchByClub,i=e.filterValue;if(t)return n.a.createElement(E,null);if(null!==a)return n.a.createElement("div",{id:"main"},n.a.createElement(g,{page:"search",query:this.state.query}),n.a.createElement("div",{className:"screen",id:"error-screen"},n.a.createElement("p",null,a.message)));for(var o=[],c=0;c<s.length;c++){var p=s[c];o.push(n.a.createElement(y,{page:"search",code:p.code,name:p.name,clubs:p.clubs,nationality:p.nationality,key:c}))}for(var d,u=[],m=0;m<l.length;m++){var h=l[m];u.push(n.a.createElement(P,{name:h,key:m}))}return d=void 0===r?n.a.createElement("h3",null,"Search results for ",n.a.createElement("br",null),'"',this.state.query,'"'):n.a.createElement("h3",null,"Search results for ",n.a.createElement("br",null),'"player.club[19-20] = ',this.state.query,'"'),n.a.createElement("div",{id:"main"},n.a.createElement(g,{page:"search",query:this.state.query}),n.a.createElement("div",{className:"screen",id:"search-screen"},n.a.createElement("div",{className:"filter",id:"search-filters"},d,n.a.createElement("br",null),n.a.createElement("div",{id:"search-filter-inputs"},n.a.createElement("input",{type:"text",value:i,placeholder:"Filter players by name",onChange:this.filterByName}))),n.a.createElement("div",{className:"result",id:"search-results"},void 0===r?n.a.createElement("h3",null,"Players"):null,0===o.length&&void 0===r?n.a.createElement("p",null,"No results found"):null,n.a.createElement("div",{id:"player-search-results"},o),void 0===r?n.a.createElement("h3",{style:{marginTop:"20px"}},"Clubs"):null,0===u.length&&void 0===r?n.a.createElement("p",null,"No results found"):null,n.a.createElement("div",{id:"club-search-results"},u))))}}]),t}(s.Component),w=a(29),C=a.n(w),A=a(34),T=a(17),j=a.n(T),N=a(30),D=a.n(N),O=a(31),M=a.n(O),F=(a(47),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).positions={FW:"Forward",AM:"Attacking Midfielder / Winger",CM:"Central / Defensive Midfielder",FB:"Full-back",CB:"Center-back",GK:"Goalkeeper"},a.competitions=a.props.competitions,a.clubs=a.props.clubs,a.labelTypes={raw:"Raw Value",percentiles:"Percentile Ranks"},a.state={},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.isMobile,t=this.props.template,a=this.props.selectedCompetitions,s=this.props.labelType,l=[],r=[];for(var i in this.positions){var o=void 0,c=void 0,p=void 0;"GK"!==i?(o="GK"!==t?"selectable-label":"blocked-label",c="".concat(t===i?"selected-label":null," ").concat("GK"!==t?"selectable-label":null),p="GK"===t):(o="GK"===t?"selectable-label":"blocked-label",c="".concat(t===i?"selected-label":null," ").concat("GK"===t?"selectable-label":null),p="GK"!==t),l.push(n.a.createElement("label",{className:o,key:"".concat(i,"_label")},n.a.createElement("input",{type:"radio",name:"template",value:i,checked:t===i,disabled:p,onChange:this.props.changeTemplate})," ",this.positions[i])),r.push(n.a.createElement("label",{className:c,key:"".concat(i,"_label_mobile")},n.a.createElement("input",{type:"radio",name:"template",value:i,checked:t===i,disabled:p,onChange:this.props.changeTemplate})," ",this.positions[i]))}var d=n.a.createElement("form",{id:"templates"},l),u=n.a.createElement("form",{id:"templates"},r),m=[],h=0;for(var b in this.competitions){var f=[],g=1!==this.clubs[b].length;m.push(n.a.createElement("h4",{key:"".concat(b,"_header"),style:{marginBottom:e?"20px":"10px",marginTop:0===h||e?"20px":"15px"}},b.replace("-","/")," ",!1===g?" | "+this.clubs[b][0]:null));for(var y=0;y<this.competitions[b].length;y++){var E=this.competitions[b][y],v=a[b].includes(E),S=E;1===this.clubs[b].length&&(S=S.substring(0,S.indexOf("|")-1)),f.push(n.a.createElement("label",{className:"".concat(v?"selected-label":null," selectable-label"),key:"".concat(b,"_").concat(E)},n.a.createElement("input",{className:"competition",type:"checkbox",value:"".concat(b,"_").concat(E),onChange:this.props.changeSelectedCompetitions,checked:v})," ",S))}m.push(n.a.createElement("form",{key:"".concat(b,"_form"),className:"competitions"},f)),h++}var k=[];for(var P in this.labelTypes)k.push(n.a.createElement("label",{className:"selectable-label",key:P},n.a.createElement("input",{type:"radio",name:"labelType",value:P,checked:s===P,onChange:this.props.changeLabelType})," ",this.labelTypes[P]));var x=n.a.createElement("form",{id:"data-labels"},k);return n.a.createElement("div",{className:"filter",id:"chart-filters"},n.a.createElement("div",{className:"chart-filter-inputs",id:"chart-filter-inputs-laptop"},n.a.createElement("h3",null,"Template"),d,n.a.createElement("h3",null,"Competitions"),m,n.a.createElement("h3",null,"Data Labels"),x),n.a.createElement("div",{className:"chart-filter-inputs",id:"chart-filter-inputs-mobile"},n.a.createElement("h3",null,"Template"),u,n.a.createElement("h3",null,"Competitions"),m,n.a.createElement("h3",null,"Data Labels"),x),n.a.createElement("div",{id:"filter-buttons"},n.a.createElement("div",{className:"filter-button"},n.a.createElement("button",{id:"toggleCreditsButton",type:"button",onClick:this.props.toggleCreditsPosition},"Toggle Credits Position")),n.a.createElement("div",{className:"filter-button"},n.a.createElement("button",{id:"exportButton",type:"button",onClick:this.props.exportChart},"Export Chart")),n.a.createElement("div",{className:"filter-button"},n.a.createElement("button",{id:"compareButton",type:"button",disabled:!0},"Compare To..."))))}}]),t}(s.Component)),W=a(22),L=a.n(W),R=a(32),B=a.n(R),_=a(33);a.n(_)()(L.a);var q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).isMobile=a.props.isMobile,a.isForExport=a.props.isForExport,a.fontSizes=null,a.isForExport?a.fontSizes={title:"3.3em",subtitle:"2em",noData:"1.76em",xAxisLabels:"1.95em",dataLabels:"1.95em",dataLabelsOutline:"0.13em",tooltipHeader:"1.3em",tooltip:"0em",credits:"1.65em",yAxisLabels:"0.65em"}:a.fontSizes={title:a.props.isMobile?"4.6vw":"2.3em",subtitle:a.props.isMobile?"2.7vw":"1.4em",noData:a.props.isMobile?"2.7vw":"1.35em",xAxisLabels:a.props.isMobile?"2.3vw":"1.15em",dataLabels:a.props.isMobile?"2.3vw":"1.15em",dataLabelsOutline:a.props.isMobile?"0.3vw":"0.18em",tooltipHeader:a.props.isMobile?"2.3vw":"1em",tooltip:a.props.isMobile?"2.3vw":"1.25em",credits:a.props.isMobile?"2.3vw":"1.2em",yAxisLabels:a.props.isMobile?"1vw":"0.5em"},a.categories={FW:["Non-Penalty Goals","Non-Penalty xG","Non-Penalty xG/Shot","".concat(a.isMobile&&!a.isForExport?"Conver-<br>sion Rate":"Conversion Rate"),"Aerial Win %","Touches in Box","xA","Passes into Box","Successful Dribbles","Dribble Success %","Times Dispossessed","(pAdj) Successful Pressures"],AM:["Non-Penalty Goals","Non-Penalty xG","Non-Penalty xG/Shot","xA","OP Shot-Creating Actions","Passes into Box","Progressive Distance","".concat(a.isMobile&&!a.isForExport?"Pass Comp. %":"Pass Completion %"),"Successful Dribbles","Dribble Success %","Times Dispossessed","(pAdj) Successful Pressures"],CM:["xA","OP Shot-Creating Actions","Passes into Final 1/3","".concat(a.isMobile&&!a.isForExport?"Prog-<br>ressive Distance":"Progressive Distance"),"".concat(a.isMobile&&!a.isForExport?"Pass Comp. %":"Pass Completion %"),"Successful Dribbles","Dribble Success %","Times Dispossessed","(pAdj) Successful Pressures","".concat(a.isMobile&&!a.isForExport?"(pAdj) Inter-<br>ceptions":"(pAdj) Interceptions"),"(pAdj) Tackles Won","".concat(a.isForExport?"Tackle/Dribbled Past %":"Tackle/ Dribbled Past %")],FB:["xA","Passes into Final 1/3","Progressive Distance","".concat(a.isMobile&&!a.isForExport?"Pass Comp. %":"Pass Completion %"),"Successful Dribbles","Dribble Success %","Times Dispossessed","(pAdj) Successful Pressures","(pAdj) Interceptions","(pAdj) Tackles Won","".concat(a.isForExport?"Tackle/Dribbled Past %":"Tackle/ Dribbled Past %"),"Aerial Win %"],CB:["Passes into Final 1/3","Progressive Distance","".concat(a.isMobile&&!a.isForExport?"Pass Comp. %":"Pass Completion %"),"".concat(a.isMobile&&!a.isForExport?"Long Pass Comp. %":"Long Pass Completion %"),"(pAdj) Successful Pressures","(pAdj) Interceptions","(pAdj) Tackles Won","".concat(a.isForExport?"Tackle/Dribbled Past %":"Tackle/ Dribbled Past %"),"(pAdj) Fouls Committed","Aerials Won","Aerial Win %","(pAdj) Clearances"],GK:["GSAA %","Cross Stopping %","Launched Pass Completion %"],"N/A":["-","-","-","-","-","-","-","-","-","-","-","-"]},a.subtitles={FW:"vs Top-5 League Players with 10+ Starts as Forwards<br/>",AM:"vs Top-5 League Players with 10+ Starts as Attacking Midfielders / Wingers<br/>",CM:"vs Top-5 League Players with 10+ Starts as Central / Defensive Midfielders<br/>",FB:"vs Top-5 League Players with 10+ Starts as Full-backs<br/>",CB:"vs Top-5 League Players with 10+ Starts as Center-backs<br/>",GK:"vs Top-5 League Players with 10+ Starts as Goalkeepers<br/>","N/A":"No Template Selected"},a.chartOptions={title:{text:null,style:{color:"#e75453",fontSize:a.fontSizes.title,fontWeight:"bold"},margin:35},subtitle:{text:null,style:{fontSize:a.fontSizes.subtitle}},pane:{startAngle:null},chart:{backgroundColor:"rgba(0, 0, 0, 0)",style:{fontFamily:"sans-serif"},animation:null,polar:!0,type:"column",marginLeft:90,marginRight:90,marginTop:null,marginBottom:null,events:null},xAxis:{categories:null,labels:{zIndex:1,distance:null,style:{color:"black",fontSize:a.fontSizes.xAxisLabels},padding:31},gridLineWidth:2,gridLineColor:"#555555",gridZIndex:4},yAxis:{labels:{enabled:!1},gridZIndex:5,lineWidth:0,endOnTick:!0,showFirstLabel:!1,showLastLabel:!0,min:-15,max:100,tickPositions:[-15,0,25,50,75,100]},series:null,plotOptions:{series:{states:{hover:{enabled:null}},dataLabels:{enabled:null,style:{fontWeight:"bold",fontSize:a.fontSizes.dataLabels,textOutline:a.fontSizes.dataLabelsOutline+" #fafbfc"},format:null,padding:0,allowOverlap:!0,z:7}}},tooltip:{headerFormat:'<span style="font-size: '+a.fontSizes.tooltipHeader+'"><b>{point.key}</b></span><br/>',pointFormat:null,style:{fontSize:a.fontSizes.tooltip}},legend:{enabled:!1},credits:{text:null,position:{align:null,y:null},style:{fontSize:a.fontSizes.credits}},lang:{noData:"Select a competition"},noData:{attr:{zIndex:6},style:{fontWeight:"bold",fontSize:a.fontSizes.noData,color:"#303030"}}},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.chartOptions,t=e.title;t.text=this.props.name,t.text+=this.isForExport?"":" <span style='font-size: 0.4em; transform: translateY(-50%)'>\ud83d\udd17</span>";var a="";0!==this.props.series.length?(a="Age: ".concat(this.props.age," \u2551 Minutes Played: ").concat(this.props.minutes.toLocaleString(),"<br/>"),a+=this.subtitles[this.props.template],"N/A"!==this.props.template?a+="Percentile Rank Bars w/ Per 90 Stats<br/>":a+="<br/>-"):a="-<br>-<br>-",e.subtitle.text=a,e.pane.startAngle=-360/this.categories[this.props.template].length/2;var s=e.chart;if(s.animation=this.props.isAnimated,this.isForExport)s.marginTop=230,s.marginBottom="right"===this.props.creditsPosition?100:120;else{s.marginBottom="right"!==this.props.creditsPosition||this.props.isMobile?60:30;var l=this.props.url;s.events={load:function(){this.title.element.onclick=function(){window.open(l,"_blank")},this.credits.element.onclick=function(){window.open("https://fbref.com","_blank")}}}}var r=e.xAxis;r.categories=this.categories[this.props.template],this.isForExport?r.labels.distance=75:r.labels.distance=this.isMobile?60:40,e.series=this.props.series.map((function(e){return{pointPadding:0,groupPadding:0,data:e,stickyTracking:!1,zIndex:0}}));var i=e.plotOptions.series;this.props.isAnimatedInitial||(i.animation=this.props.isAnimatedInitial),i.states.hover.enabled=this.props.isAnimatedInitial;var o=i.dataLabels;o.enabled="N/A"!==this.props.template,o.format="raw"===this.props.labelType?"{point.p90_label}":"{point.percentile_label}",e.tooltip.enabled=this.props.hasTooltip,e.tooltip.pointFormat="<br>Raw Value: <b>{point.p90_label}</b><br/>Percentile Rank: <b>{point.percentile_label}</b>";var c=e.credits;return c.text="Data Source: FBref.com ".concat(this.isMobile||this.isForExport?"<br/>.<br/>":"<br/>"," Last Updated: ").concat(this.props.lastUpdated," UTC"),c.position={align:this.props.creditsPosition,y:this.isMobile||this.isForExport?-40:-20},n.a.createElement("div",{className:"result",id:"chart"},n.a.createElement(B.a,{constructorType:"chart",highcharts:L.a,containerProps:{style:{width:"100%",height:"100%"}},options:e}))}}]),t}(s.Component),G=a(48),I=new A.a,z=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e)))._isMounted=!1,a.getStats=function(){var e=a.props.match.params.code;fetch("/api/stats",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e,percentilesTimestamp:a.state.percentileArrays.lastUpdated})}).then((function(e){if(e.ok)return e.json();throw new Error("Failed to fetch. This is likely due to a malformed URL. Please try searching for the player again.")})).then((function(e){return a.processStats(e)})).catch((function(e){return a.setState({error:e,isLoading:!1})}))},a.processStats=function(e){void 0!==e.newPercentileArrays&&(a.props.updatePercentileArrays(e.newPercentileArrays),e=e.stats);var t="N/A";for(var s in e.positions){var n=e.positions[s];"N/A"!==n&&(t=n)}var l={};for(var r in e.stats)for(var i in l[r]=[],e.stats[r])l[r].push(i);a._isMounted&&a.setState({isLoading:!1,name:e.name,url:"https://fbref.com/en/players/"+e.fbrefCode,age:e.age,clubs:e.clubs,percentileEntries:e.percentileEntries,stats:e.stats,lastUpdated:G(e.lastUpdated,"dd/mm/yyyy, h:MM TT",!0),template:t,competitions:JSON.parse(JSON.stringify(l)),selectedCompetitions:JSON.parse(JSON.stringify(l))},(function(){}))},a.filterStats=function(e){var t={},s=a.state.selectedCompetitions;for(var n in e)for(var l in e[n])if(s[n].includes(l))for(var r in e[n][l])r in t?t[r]+=e[n][l][r]:t[r]=e[n][l][r];return t},a.calculateStats=function(e){var t,s=a.state.percentileArrays,n=a.state.percentileEntries,l=a.state.selectedCompetitions,r=a.state.template,i=[],o=0;for(var c in l)0!==l[c].length&&i.push(c);for(var p in t=1===i.length?i[0]:"combined",n)t!==p&&"combined"!==t||n[p].includes(r)&&(o=1);var d={},u={},m=e.minutes;switch(r){case"FW":d.npg=e.npg/(m/90),d.npxg=e.npxg/(m/90),d.npxgPerShot=e.npxg/e.shots,d.conversionRate=e.npg/e.shots*100,d.aerialSuccRate=e.succAerials/e.attAerials*100,d.boxTouches=e.boxTouches/(m/90),d.xa=e.xa/(m/90),d.ppa=e.ppa/(m/90),d.succDribbles=e.succDribbles/(m/90),d.dribbleSuccRate=e.succDribbles/e.attDribbles*100,d.timesDispossessed=e.timesDispossessed/(m/90),d.padjSuccPressures=e.padjSuccPressures/(m/90);break;case"AM":d.npg=e.npg/(m/90),d.npxg=e.npxg/(m/90),d.npxgPerShot=e.npxg/e.shots,d.xa=e.xa/(m/90),d.sca=e.sca/(m/90),d.ppa=e.ppa/(m/90),d.progDistance=e.progDistance/(m/90),d.passSuccRate=e.succPasses/e.attPasses*100,d.succDribbles=e.succDribbles/(m/90),d.dribbleSuccRate=e.succDribbles/e.attDribbles*100,d.timesDispossessed=e.timesDispossessed/(m/90),d.padjSuccPressures=e.padjSuccPressures/(m/90);break;case"CM":d.xa=e.xa/(m/90),d.sca=e.sca/(m/90),d.pft=e.pft/(m/90),d.progDistance=e.progDistance/(m/90),d.passSuccRate=e.succPasses/e.attPasses*100,d.succDribbles=e.succDribbles/(m/90),d.dribbleSuccRate=e.succDribbles/e.attDribbles*100,d.timesDispossessed=e.timesDispossessed/(m/90),d.padjSuccPressures=e.padjSuccPressures/(m/90),d.padjInterceptions=e.padjInterceptions/(m/90),d.padjTacklesWon=e.padjTacklesWon/(m/90),d.dribbleTackleRate=e.succDribbleTackles/e.attDribbleTackles*100;break;case"FB":d.xa=e.xa/(m/90),d.pft=e.pft/(m/90),d.progDistance=e.progDistance/(m/90),d.passSuccRate=e.succPasses/e.attPasses*100,d.succDribbles=e.succDribbles/(m/90),d.dribbleSuccRate=e.succDribbles/e.attDribbles*100,d.timesDispossessed=e.timesDispossessed/(m/90),d.padjSuccPressures=e.padjSuccPressures/(m/90),d.padjInterceptions=e.padjInterceptions/(m/90),d.padjTacklesWon=e.padjTacklesWon/(m/90),d.dribbleTackleRate=e.succDribbleTackles/e.attDribbleTackles*100,d.aerialSuccRate=e.succAerials/e.attAerials*100;break;case"CB":d.pft=e.pft/(m/90),d.progDistance=e.progDistance/(m/90),d.passSuccRate=e.succPasses/e.attPasses*100,d.longPassSuccRate=e.succLongPasses/e.attLongPasses*100,d.padjSuccPressures=e.padjSuccPressures/(m/90),d.padjInterceptions=e.padjInterceptions/(m/90),d.padjTacklesWon=e.padjTacklesWon/(m/90),d.dribbleTackleRate=e.succDribbleTackles/e.attDribbleTackles*100,d.padjFouls=e.padjFouls/(m/90),d.succAerials=e.succAerials/(m/90),d.aerialSuccRate=e.succAerials/e.attAerials*100,d.padjClearances=e.padjClearances/(m/90);break;case"GK":d.gsaa=(e.psxg-e.goalsAgainst)/e.sota*100,d.crossStopRate=e.stoppedCrosses/e.attCrosses*100,d.launchedPassSuccRate=e.succLaunchedPasses/e.attLaunchedPasses*100;break;default:d.npg=0,d.npxg=0,d.npxgPerShot=0,d.conversionRate=0,d.succAerials=0,d.boxTouches=0,d.xa=0,d.ppa=0,d.succDribbles=0,d.dribbleSuccRate=0,d.timesDispossessed=0,d.padjSuccPressures=0}if("N/A"!==r)for(var h in d)isFinite(d[h])?u[h]=100*a.percentileRank(s[t][r][h],d[h],o):(d[h]=0,u[h]=0),"padjFouls"!==h&&"timesDispossessed"!==h||(u[h]=100-u[h]);else for(var b in d)u[b]=0;return{statsPer90:d,percentiles:u}},a.percentileRank=function(e,t,a){isFinite(t)||(t=0);for(var s=0,n=e.length;s<n;s++)if(t<e[s]){for(;s<n&&t===e[s];)s++;return 0===s?0:(t!==e[s-1]&&(s+=(t-e[s-1])/(e[s]-e[s-1])),s/n-a/e.length)}return 1},a.constructChartInput=function(e,t){var s=a.state.template,n=a.colors[s],l=a.truncate(e),r=a.roundNumbers(t,0),i=[],o=0;for(var c in t)i[o]={y:t[c],p90_label:l[c],percentile_label:a.ordinalSuffix(r[c]),color:j.a.Color(n[o]).setOpacity(.85).get()},o++;return i},a.truncate=function(e){var t={};for(var a in e){var s=void 0;s="npxgPerShot"===a?3:"conversionRate"===a||"aerialSuccRate"===a||"dribbleSuccRate"===a||"passSuccRate"===a||"dribbleTackleRate"===a||"longPassSuccRate"===a||"launchedPassSuccRate"===a?1:"progDistance"===a?0:2,t[a]=parseFloat(Math.round(e[a]*Math.pow(10,s))/Math.pow(10,s)).toFixed(s)}return t},a.roundNumbers=function(e,t){var a={};for(var s in e)a[s]=Math.round(e[s]*Math.pow(10,t))/Math.pow(10,t);return a},a.ordinalSuffix=function(e){var t=e%10,a=e%100;return 1===t&&11!==a?e+"st":2===t&&12!==a?e+"nd":3===t&&13!==a?e+"rd":e+"th"},a.changeTemplate=function(e){var t=e.target.value;a.setState({template:t,isAnimated:!0},(function(){}))},a.changeSelectedCompetitions=function(e){var t=a.state.selectedCompetitions,s=e.target.value.split("_"),n=s[0],l=s[1];t[n].includes(l)?t[n].splice(t[n].indexOf(l),1):t[n].push(l),a.setState({selectedCompetitions:t,isAnimated:!0})},a.changeLabelType=function(e){var t=e.target.value;I.set("labelType",t,{path:"/"}),a.setState({labelType:t,isAnimated:!1})},a.toggleCreditsPosition=function(){var e="right"===a.state.creditsPosition?"center":"right";I.set("creditsPosition",e,{path:"/"}),a.setState({isAnimated:!1,creditsPosition:e})},a.exportChart=function(){var e,t,s,n,l;return C.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!a.state.isSafari){r.next=4;break}return alert("Sorry, this feature is not supported in Safari."),r.abrupt("return");case 4:e=a.state.name,t=document.getElementById("export"),2,9,s=.09*t.offsetWidth,n=791/2070*s/t.offsetHeight*100,l=t.offsetWidth/t.offsetHeight,D.a.toPng(t,{bgcolor:"#fafbfc",width:2400,height:2200,style:{opacity:"1",transform:"scale(".concat(2,") translate(").concat(t.offsetWidth/2/2,"px, ").concat(t.offsetHeight/2/2,"px)"),"background-position":"0.3% ".concat(50-.3*l-(n+.3*l)/2,"%"),"background-size":"".concat(9,"%")}}).then((function(t){M()(t,"".concat(e.replace(" ","-"),".png"))})).catch((function(e){console.log(e),alert("An error occurred while exporting. Please refresh the page and try again.")}));case 13:case"end":return r.stop()}}))},a.colors={FW:["#f15c80","#f15c80","#f15c80","#f15c80","#f15c80","#e4d354","#e4d354","#e4d354","#90ed7d","#90ed7d","#90ed7d","#7cb5ec"],AM:["#f15c80","#f15c80","#f15c80","#e4d354","#e4d354","#e4d354","#e4d354","#e4d354","#90ed7d","#90ed7d","#90ed7d","#7cb5ec"],CM:["#e4d354","#e4d354","#e4d354","#e4d354","#e4d354","#90ed7d","#90ed7d","#90ed7d","#7cb5ec","#7cb5ec","#7cb5ec","#7cb5ec"],FB:["#e4d354","#e4d354","#e4d354","#e4d354","#90ed7d","#90ed7d","#90ed7d","#7cb5ec","#7cb5ec","#7cb5ec","#7cb5ec","#7cb5ec"],CB:["#e4d354","#e4d354","#e4d354","#e4d354","#7cb5ec","#7cb5ec","#7cb5ec","#7cb5ec","#7cb5ec","#7cb5ec","#7cb5ec","#7cb5ec"],GK:["#9499ff","#9499ff","#e4d354"],"N/A":["#7cb5ec","#7cb5ec","#7cb5ec","#7cb5ec","#7cb5ec","#7cb5ec","#7cb5ec","#7cb5ec","#7cb5ec","#7cb5ec","#7cb5ec","#7cb5ec"],null:["#7cb5ec","#7cb5ec","#7cb5ec","#7cb5ec","#7cb5ec","#7cb5ec","#7cb5ec","#7cb5ec","#7cb5ec","#7cb5ec","#7cb5ec","#7cb5ec"]};var s=I.get("labelType"),n=I.get("creditsPosition");return a.state={isLoading:!0,error:null,isMobile:a.props.isMobile,isSafari:a.props.isSafari,percentileArrays:a.props.percentileArrays,name:"",url:"",age:0,clubs:{},positions:{},percentileEntries:{},stats:{},lastUpdated:null,template:"N/A",competitions:{},selectedCompetitions:{},labelType:void 0===s?"raw":s,creditsPosition:void 0===n?"right":n,isAnimated:!0},a.getStats(),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.error,s=e.url,l=e.name,r=e.age,i=e.clubs,o=e.stats,c=e.lastUpdated,p=e.competitions,d=e.selectedCompetitions,u=e.template,m=e.labelType,h=e.creditsPosition,b=e.isAnimated,f=e.isMobile;if(t)return n.a.createElement(E,null);if(null!==a)return n.a.createElement("div",{id:"main2"},n.a.createElement(g,{page:"stats",query:this.state.query}),n.a.createElement("div",{className:"screen",id:"error-screen"},n.a.createElement("p",null,a.message)));var y={},v=[];if(null!==u&&(y=this.filterStats(o),0!==Object.keys(y).length)){var S=this.calculateStats(y);v=[this.constructChartInput(S.statsPer90,S.percentiles)]}return n.a.createElement("div",{id:"main2"},n.a.createElement(g,{page:"stats"}),n.a.createElement("div",{className:"screen2",id:"stats-screen"},n.a.createElement(F,{isMobile:f,template:u,competitions:p,clubs:i,selectedCompetitions:d,labelType:m,changeTemplate:this.changeTemplate,changeSelectedCompetitions:this.changeSelectedCompetitions,changeLabelType:this.changeLabelType,toggleCreditsPosition:this.toggleCreditsPosition,exportChart:this.exportChart}),n.a.createElement(q,{isMobile:f,isForExport:!1,isAnimated:b,isAnimatedInitial:!0,hasTooltip:!0,creditsPosition:h,url:s,lastUpdated:c,template:u,labelType:m,name:l,age:r,minutes:y.minutes,series:v})),n.a.createElement("div",{id:"export"},n.a.createElement(q,{isMobile:f,isForExport:!0,isAnimated:!1,isAnimatedInitial:!1,hasTooltip:!1,creditsPosition:h,url:null,lastUpdated:c,template:u,labelType:m,name:l,age:r,minutes:y.minutes,series:v})))}}]),t}(s.Component);a(49),m.isMobileOnly&&a.e(3).then(a.t.bind(null,51,7)).then((function(e){console.log("Mobile device detected")}));var U=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).getPercentileArrays=function(){fetch("/api/percentiles",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}).then((function(e){return e.json()})).then((function(e){return a.setState({percentileArrays:e,isLoading:!1})})).catch()},a.updatePercentileArrays=function(e){a.setState({percentileArrays:e})},a.state={isLoading:!0,percentileArrays:{}},a.getPercentileArrays(),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(m.isMobileOnly){var e=Math.max(document.documentElement.clientHeight,window.innerHeight||0);b()("html, body, #root, #root-container").css({height:e})}}},{key:"render",value:function(){var e=this;if(this.state.isLoading)return n.a.createElement("div",{id:"main"},n.a.createElement("div",{className:"screen",id:"loading-screen"},"Connecting to server..."));return n.a.createElement(u.c,null,n.a.createElement((function(){return n.a.createElement("div",{id:"root-container"},n.a.createElement(u.c,null,n.a.createElement(u.a,{exact:!0,path:"/",render:function(e){return n.a.createElement(k,Object.assign({},e,{isMobile:m.isMobileOnly}))}}),n.a.createElement(u.a,{path:"/search/:query/:searchByClub?",component:x}),n.a.createElement(u.a,{path:"/stats/:code",render:function(t){return n.a.createElement(z,Object.assign({},t,{percentileArrays:e.state.percentileArrays,isMobile:m.isMobileOnly,isSafari:m.isSafari,updatePercentileArrays:e.updatePercentileArrays}))}}),n.a.createElement(u.a,{path:"*",component:k})))}),null))}}]),t}(s.Component);Object(l.render)(n.a.createElement(r.a,null,n.a.createElement(U,null)),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.6ecc736a.chunk.js.map
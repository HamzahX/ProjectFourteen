(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{32:function(e,t,a){e.exports=a.p+"static/media/mockUps.db2323f6.png"},36:function(e,t,a){e.exports=a(48)},41:function(e,t,a){},42:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),l=a(18),r=a(14),i=(a(41),a(4)),c=a(5),o=a(6),u=a(7),m=a(8),p=a(16),h=(a(42),a(29)),d=a.n(h),b=a(1),f=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={query:a.props.query,type:a.props.type,searchType:void 0===a.props.searchType?"byName":a.props.searchType},a.handleChange1=a.handleChange1.bind(Object(b.a)(a)),a.handleChange2=a.handleChange2.bind(Object(b.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(b.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChange1",value:function(e){this.setState({searchType:e.target.value})}},{key:"handleChange2",value:function(e){this.setState({query:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),"byName"===this.state.searchType?this.props.history.push("/playerSearch/"+this.state.query):this.props.history.push("/clubSearch/"+this.state.query)}},{key:"render",value:function(){var e,t,a=this.state,s=a.type;return e=1===s?"searchbar-container":2===s?"searchbar-container2":"searchbar-container3",t="byName"===a.searchType?"Search for a player...":"Search for a club...",n.a.createElement("div",{id:e},n.a.createElement("form",{id:"searchbar",onSubmit:this.handleSubmit},n.a.createElement("select",{value:this.state.searchType,onChange:this.handleChange1},n.a.createElement("option",{value:"byName"},"By Name"),n.a.createElement("option",{value:"byClub"},"By Club")),n.a.createElement("input",{type:"text",id:"query",value:this.state.query,placeholder:t,autoComplete:"off",onChange:this.handleChange2})))}}]),t}(s.Component),y=Object(p.f)(f),g=a(32),v=a.n(g),E=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{id:"homepage"},n.a.createElement("div",{id:"menu"},n.a.createElement("a",{href:"#home"},"Home"),n.a.createElement("a",{href:"#preview"},"OrganizedChaos"),n.a.createElement("a",{href:"#faq"},"FAQ"),n.a.createElement("a",{href:"#contact"},"Contact")),n.a.createElement("div",{id:"home"},n.a.createElement(d.a,{cursor:{show:!1},avgTypingDelay:120},n.a.createElement("h1",null,"[name]",n.a.createElement("span",{style:{color:"#ffd700"}},".com"))),n.a.createElement(y,{type:3})),n.a.createElement("div",{className:"homepage-section-container"},n.a.createElement("div",{id:"preview"},n.a.createElement("div",{id:"preview-text"},n.a.createElement("h2",null,"OrganizedChaos"),n.a.createElement("p",null,"The OrganizedChaos tool is all about automation. It sifts through mounds of tables and numbers so you don't have to!"),n.a.createElement("br",null),n.a.createElement("p",null,"Explore a database of ",n.a.createElement("span",{className:"accented-p"},"2,500+")," players from Europe's top ",n.a.createElement("span",{className:"accented-p"},"5")," leagues as well the UEFA Champions League and Europa League."),n.a.createElement("br",null),n.a.createElement("p",null,"Simply choose from ",n.a.createElement("span",{className:"accented-p"},"5")," positional templates, toggle the competitions you'd like to include, and you can visualize statistics in seconds with interactive percentile rank bar charts, powered by Highcharts.js.")),n.a.createElement("div",{id:"preview-image"},n.a.createElement("img",{src:v.a,alt:"mockups"})))),n.a.createElement("div",{style:{backgroundColor:"#f0f1f2"},className:"homepage-section-container"},n.a.createElement("div",{id:"faq"},n.a.createElement("h2",null,"F.A.Q."),n.a.createElement("div",{id:"faq-container"},n.a.createElement("div",{className:"faq-item"},n.a.createElement("p",null,n.a.createElement("span",{className:"accented-p"},"Where do you get your data from?")),n.a.createElement("p",null,n.a.createElement("a",{href:"https://www.whoscored.com"},"whoscored.com"))),n.a.createElement("div",{className:"faq-item"},n.a.createElement("p",null,n.a.createElement("span",{className:"accented-p"},"Do you plan on adding xG data to the charts?")),n.a.createElement("p",null,"Absolutely! I actually started this project mainly to learn and practice using browser automation tools. ",n.a.createElement("a",{href:"https://www.whoscored.com"},"whoscored.com")," was a fun playground to practice on, and so I used it as my primary data source. However, I definitely plan on incorporating some more advanced data from other sources such as ",n.a.createElement("a",{href:"https://fbref.com"},"FBREF.com")," and/or the ",n.a.createElement("a",{href:"https://github.com/statsbomb"},"Statsbomb API")," in the future.")),n.a.createElement("div",{className:"faq-item"},n.a.createElement("p",null,n.a.createElement("span",{className:"accented-p"},"How should the charts be interpreted?")),n.a.createElement("p",null,"Each chart consists of 12 bars. The size of the bar for each stat corresponds to the percentile rank of the selected player with regards to the stat in question. The data labels attached to each bar show the raw (per 90) value."),n.a.createElement("br",null),n.a.createElement("p",null,"**Please note that the position of a stat on the chart can change between different position templates.**")),n.a.createElement("div",{className:"faq-item"},n.a.createElement("p",null,n.a.createElement("span",{className:"accented-p"},"What do the colors on the charts mean?")),n.a.createElement("p",null,"The colours are meant to help group similar statistics together (as well as improve the charts' visual impact)."),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#f37c98"}},"Red")," is for goal-scoring & shooting stats,"),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#d7c971"}},"Yellow")," is for passing & chance creation,"),n.a.createElement("li",null,n.a.createElement("span",{style:{color:"#91d782"}},"Green")," is for dribbling & ball retention"),n.a.createElement("li",null,"and ",n.a.createElement("span",{style:{color:"#95c3ef"}},"Blue")," is for defensive stats"))),n.a.createElement("div",{className:"faq-item"},n.a.createElement("p",null,n.a.createElement("span",{className:"accented-p"},"How are the percentile ranks calculated?")),n.a.createElement("p",null,"Although the OrganizedChaos tool contains data for the Champions League and the Europa League, the percentile ranks are based only on top 5 league data."),n.a.createElement("br",null),n.a.createElement("p",null,"For each of the 5 position templates, my script uses the ",n.a.createElement("a",{href:"https://whoscored.com/Statistics"},"whoscored.com player statistics table")," to select all top 5 league players who have accumulated more than 10 starts this season in the said position. Their stats are then recorded in my dataset (and updated after each top 5 league matchday)."),n.a.createElement("br",null),n.a.createElement("p",null,"For each player's chart, the percentile ranks are then obtained by determining the percentage of scores within the total dataset for the selected template position that are equal to or lower than the player's score. This is of course reversed for stats where a lower value is better, such as the 'fouls committed per 90' stat.")),n.a.createElement("div",{className:"faq-item"},n.a.createElement("p",null,n.a.createElement("span",{className:"accented-p"},"Can you add a feature to compare players on the same chart?")),n.a.createElement("p",null,"Yes, player comparison is definitely a feature I plan on implementing, although I don't have a concrete timeline for that as of right now. Stay tuned!"))))),n.a.createElement("div",{className:"homepage-section-container"},n.a.createElement("div",{id:"contact"},n.a.createElement("h2",null,"Contact"),n.a.createElement("p",null,"For any comments, bug reports, suggestions or questions, please feel free to reach out to me on twitter",n.a.createElement("a",{href:"https://twitter.com/DyslexicDdue"}," @DyslexicDdue")))))}}]),t}(s.Component),C=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{id:"main"},n.a.createElement("div",{className:"screen",id:"loading-screen"},n.a.createElement("div",{className:"loader"},"Loading...")))}}]),t}(s.Component),k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={name:a.props.name},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement(r.b,{to:"/playerSearch/"+this.state.name+"/all"},n.a.createElement("div",{tabIndex:"0",className:"search-result"},n.a.createElement("div",{className:"name"},this.state.name)))}}]),t}(s.Component),S=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).getSearchResults=function(){fetch("/api/search",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:a.state.query,type:"club"})}).then((function(e){if(e.ok)return e.json();throw new Error("No results found")})).then((function(e){return a.setState({searchResults:e,isLoading:!1})})).catch((function(e){return a.setState({error:e,isLoading:!1})}))};var s=e.match.params.query;return a.state={isLoading:!1,error:null,query:s,searchResults:[]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0},(function(){e.getSearchResults()}))}},{key:"componentWillReceiveProps",value:function(e,t){var a=this,s=e.match.params.query;this.setState({isLoading:!0,query:s},(function(){a.getSearchResults()}))}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.isLoading,s=e.searchResults;if(a)return n.a.createElement(C,null);if(null!==t)return n.a.createElement("div",{id:"main"},n.a.createElement(y,{type:1,query:this.state.query}),n.a.createElement("div",{className:"screen",id:"error-screen"},n.a.createElement("p",null,t.message)));for(var l=[],r=0;r<s.length;r++){var i=s[r];l.push(n.a.createElement(k,{name:i}))}return n.a.createElement("div",{id:"main"},n.a.createElement(y,{searchType:"byClub",type:1,query:this.state.query}),n.a.createElement("div",{className:"screen",id:"search-screen"},n.a.createElement("div",{className:"filter",id:"search-filters"},n.a.createElement("h2",null,"Search results for ",n.a.createElement("br",null),'"club.name \u2283 ',this.state.query,'"')),n.a.createElement("div",{className:"result",id:"search-results"},l)))}}]),t}(s.Component),O=a(21),P=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={name:a.props.name,club:a.props.club,nationality:a.props.nationality,URL:a.props.URL.replace("https://www.whoscored.com/","").replace("History","Show").split("/").join("_"),all:a.props.all},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement(r.b,{to:"/stats/"+this.state.URL},n.a.createElement("div",{tabIndex:"0",className:"search-result"},n.a.createElement("div",{className:"name"},this.state.name),n.a.createElement("div",{className:"club"},"Club: ",this.state.club),n.a.createElement("div",{className:"nationality"},"Nationality: ",this.state.nationality)))}}]),t}(s.Component),N=a(26),w=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).getSearchResults=function(){var e;e=void 0===a.state.searchByClub?"playerByName":"playerByClub",fetch("/api/search",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:a.state.query,type:e})}).then((function(e){if(e.ok)return e.json();throw new Error("No results found")})).then((function(e){return a.processSearchResults(e)})).catch((function(e){return a.setState({error:e,isLoading:!1})}))};var s=e.match.params.query,n=e.match.params.searchByClub;return a.state={isLoading:!1,error:null,query:s,searchByClub:n,searchResults:[],filteredSearchResults:[],names:[],clubs:[],nationalities:[]},a.filterByClub=a.filterByClub.bind(Object(b.a)(a)),a.filterByName=a.filterByName.bind(Object(b.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0},(function(){e.getSearchResults()}))}},{key:"componentWillReceiveProps",value:function(e,t){var a=this,s=e.match.params.query;this.setState({isLoading:!0,query:s},(function(){a.getSearchResults()}))}},{key:"processSearchResults",value:function(e){for(var t=[],a=[],s=[],n=function(n){var l=e[n],r={value:l.club,label:l.club},i={value:l.nationality,label:l.nationality},c={value:l.name,label:l.name};!a.filter((function(e){return e.value===r.value})).length>0&&a.push(r),!s.filter((function(e){return e.value===i.value})).length>0&&s.push(i),t.push(c)},l=0;l<e.length;l++)n(l);this.setState({searchResults:e,filteredSearchResults:e,names:t,clubs:a,nationalities:s,isLoading:!1,error:null})}},{key:"filterByClub",value:function(e){var t=this,a=JSON.parse(JSON.stringify(this.state.searchResults)),s=[];if(null===e)s=a;else for(var n=0;n<a.length;n++)e.value===a[n].club&&s.push(a[n]);this.setState({filteredSearchResults:[]},(function(){t.setState({filteredSearchResults:s})}))}},{key:"filterByName",value:function(e){var t=this,a=JSON.parse(JSON.stringify(this.state.searchResults)),s=[];if(null===e)s=a;else for(var n=0;n<a.length;n++)a[n].name.toUpperCase().includes(e.value.toUpperCase())&&s.push(a[n]);this.setState({filteredSearchResults:[]},(function(){t.setState({filteredSearchResults:s})}))}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.isLoading,s=e.filteredSearchResults,l=e.clubs,r=e.names,i=e.searchByClub;if(a)return n.a.createElement(C,null);if(null!==t)return n.a.createElement("div",{id:"main"},n.a.createElement(y,{type:1,query:this.state.query}),n.a.createElement("div",{className:"screen",id:"error-screen"},n.a.createElement("p",null,t.message)));for(var c=[],o=0;o<s.length;o++){var u=s[o];c.push(n.a.createElement(P,{name:u.name,club:u.club,nationality:u.nationality,URL:u.URL,all:u.all}))}var m,p,h={control:function(e,t){return Object(O.a)({},e,{boxShadow:"none","&:hover":{borderColor:"#B23535"},"&:focus":{borderColor:"#B23535"}})}},d=function(e){return Object(O.a)({},e,{colors:Object(O.a)({},e.colors,{primary25:"pink",primary:"#e75453"})})};return void 0===i?(p=n.a.createElement("h2",null,"Search results for ",n.a.createElement("br",null),'"player.name \u2283 ',this.state.query,'"'),m=n.a.createElement(N.a,{styles:h,theme:d,placeholder:"Filter by club",onChange:this.filterByClub,isClearable:!0,options:l})):(p=n.a.createElement("h2",null,"Search results for ",n.a.createElement("br",null),'"player.club = ',this.state.query,'"'),m=n.a.createElement(N.a,{styles:h,theme:d,placeholder:"Filter by name",onChange:this.filterByName,isClearable:!0,options:r})),n.a.createElement("div",{id:"main"},n.a.createElement(y,{searchType:"all"===i?"byClub":"byName",type:1,query:this.state.query}),n.a.createElement("div",{className:"screen",id:"search-screen"},n.a.createElement("div",{className:"filter",id:"search-filters"},p,n.a.createElement("div",{id:"search-filter-inputs"},m)),n.a.createElement("div",{className:"result",id:"search-results"},c)))}}]),t}(s.Component),j=a(17),R=a.n(j),L=a(33),T=a.n(L),D=a(34),M=a.n(D),A=a(35),B=a.n(A);T()(R.a),M()(R.a);var F=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).getStats=function(){var e=a.props.match.params.URL;fetch("/api/stats",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({URL:e})}).then((function(e){return e.json()})).then((function(e){return a.processStats(e)}))};return a.state={isLoading:!1,allStats:{},percentiles:a.props.percentiles,allCompetitions:[],selectedCompetitions:[],categories:["Non-Penalty Goals","Non-Penalty Shots","Conversion Rate","Shots on Target %","Assists","Key Passes","Completed Passes","Pass Completion %","Successful Dribbles","Dribble Success %","Turnovers","Recoveries"],template:"FW",name:"",url:"",isAll:!1,multipleLeagues:!1,isMobile:a.props.isMobile,fontSizes:{title:!0===a.props.isMobile?"4vw":"2em",subtitle:!0===a.props.isMobile?"2.8vw":"1.4em",noData:!0===a.props.isMobile?"2.7vw":"1.35em",xAxisLabels:!0===a.props.isMobile?"2.3vw":"1.15em",dataLabels:!0===a.props.isMobile?"2.3vw":"1.25em",tooltipHeader:!0===a.props.isMobile?"2.3vw":"1em",tooltip:!0===a.props.isMobile?"2.3vw":"1.25em",credits:!0===a.props.isMobile?"1.4vw":"1em",yAxisLabels:!0===a.props.isMobile?"1vw":"0.5em"}},a.processStats=a.processStats.bind(Object(b.a)(a)),a.changeTemplate=a.changeTemplate.bind(Object(b.a)(a)),a.changeSelectedCompetitions=a.changeSelectedCompetitions.bind(Object(b.a)(a)),a.selectAllCompetitions=a.selectAllCompetitions.bind(Object(b.a)(a)),a.clearAllCompetitions=a.clearAllCompetitions.bind(Object(b.a)(a)),a.filterStats=a.filterStats.bind(Object(b.a)(a)),a.calculateChartInput=a.calculateChartInput.bind(Object(b.a)(a)),a.percentRank=a.percentRank.bind(Object(b.a)(a)),a.roundNumbers=a.roundNumbers.bind(Object(b.a)(a)),a.insertChartInput=a.insertChartInput.bind(Object(b.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0},(function(){e.getStats()}))}},{key:"processStats",value:function(e){var t=this.state.allCompetitions.filter((function(e){return e.startsWith("League | ")})).length>1;this.setState({url:e.url,name:e.name,lastUpdated:e.lastUpdated,allStats:e.stats,allCompetitions:Object.keys(e.stats),selectedCompetitions:Object.keys(e.stats),isLoading:!1,multipleLeagues:t},(function(){}))}},{key:"changeSelectedCompetitions",value:function(e){var t=this.state.selectedCompetitions,a=e.target.value;t.includes(a)?t.splice(t.indexOf(a),1):t.push(a),this.setState({selectedCompetitions:t})}},{key:"selectAllCompetitions",value:function(e){var t=JSON.parse(JSON.stringify(this.state.allCompetitions));this.setState({selectedCompetitions:t})}},{key:"clearAllCompetitions",value:function(e){this.setState({selectedCompetitions:[]})}},{key:"changeTemplate",value:function(e){var t=this,a=e.target.value;this.setState({template:a},(function(){t.setCategories()}))}},{key:"setCategories",value:function(){var e=[];switch(this.state.template){case"FW":e=["Non-Penalty Goals","Non-Penalty Shots","Conversion Rate","Shots on Target %","Assists","Key Passes","Completed Passes","Pass Completion %","Successful Dribbles","Dribble Success %","Turnovers","Recoveries"];break;case"AM":e=["Non-Penalty Goals","Non-Penalty Shots","Assists","Key Passes","Completed Passes","Pass Completion %","Completed Crosses","Cross Completion %","Successful Dribbles","Dribble Success %","Turnovers","Recoveries"];break;case"CM":e=["Non-Penalty Goals + Assists","Key Passes","Completed Passes","Pass Completion %","Completed Long Passes","Long Pass Completion %","Successful Dribbles","Dribble Success %","Interceptions","Tackles Won","Tackle Win %","Fouls Committed"];break;case"FB":e=["Assists","Key Passes","Completed Passes","Pass Completion %","Completed Crosses","Cross Completion %","Successful Dribbles","Dribble Success %","Interceptions","Tackles Won","Tackle Win %","Fouls Committed"];break;case"CB":e=["Completed Passes","Pass Completion %","Completed Long Passes","Long Pass Completion %","Interceptions","Tackles Won","Tackle Win %","Fouls Committed","Blocks","Clearances","Aerial Duels Won","Aerial Duel Win %"]}this.setState({categories:e})}},{key:"filterStats",value:function(e){var t={},a=this.state.selectedCompetitions;for(var s in e)if(a.includes(s))for(var n in e[s])n in t?t[n]+=e[s][n]:t[n]=e[s][n];return t}},{key:"calculateChartInput",value:function(e,t){var a={},s={};switch(this.state.template){case"FW":for(var n in a.goals=e.goals/(e.minutes/90),a.shots=(e.shots-e.penaltiesTaken)/(e.minutes/90),a.conversionRate=e.goals/(e.shots-e.penaltiesTaken)*100,a.shotsOnTarget=(e.shotsOnTarget-e.penaltiesTaken)/(e.shots-e.penaltiesTaken)*100,a.assists=e.assists/(e.minutes/90),a.keyPasses=e.keyPasses/(e.minutes/90),a.succPasses=e.succPasses/(e.minutes/90),a.passingRate=e.succPasses/e.totalPasses*100,a.succDribbles=e.succDribbles/(e.minutes/90),a.dribbleRate=e.succDribbles/e.totalDribbles*100,a.possessionLosses=e.possessionLosses/(e.minutes/90),a.recoveries=e.tackles/(e.minutes/90)+e.interceptions/(e.minutes/90),a)s[n]=100*this.percentRank(t.fw[n],a[n]);s.possessionLosses=100-s.possessionLosses;break;case"AM":for(var l in a.goals=e.goals/(e.minutes/90),a.shots=(e.shots-e.penaltiesTaken)/(e.minutes/90),a.assists=e.assists/(e.minutes/90),a.keyPasses=e.keyPasses/(e.minutes/90),a.succPasses=e.succPasses/(e.minutes/90),a.passingRate=e.succPasses/e.totalPasses*100,a.succCrosses=e.succCrosses/(e.minutes/90),a.crossRate=e.succCrosses/e.totalCrosses*100,a.succDribbles=e.succDribbles/(e.minutes/90),a.dribbleRate=e.succDribbles/e.totalDribbles*100,a.possessionLosses=e.possessionLosses/(e.minutes/90),a.recoveries=e.tackles/(e.minutes/90)+e.interceptions/(e.minutes/90),a)s[l]=100*this.percentRank(t.am[l],a[l]);s.possessionLosses=100-s.possessionLosses;break;case"CM":for(var r in a.goalsPlusAssists=(e.goals+e.assists)/(e.minutes/90),a.keyPasses=e.keyPasses/(e.minutes/90),a.succPasses=e.succPasses/(e.minutes/90),a.passingRate=e.succPasses/e.totalPasses*100,a.succLongPasses=e.succLongPasses/(e.minutes/90),a.longPassingRate=e.succLongPasses/e.totalLongPasses*100,a.succDribbles=e.succDribbles/(e.minutes/90),a.dribbleRate=e.succDribbles/e.totalDribbles*100,a.interceptions=e.interceptions/(e.minutes/90),a.tackles=e.tackles/(e.minutes/90),a.tackleRate=e.tackles/(e.tackles+e.dribbledPast)*100,a.fouls=e.fouls/(e.minutes/90),a)s[r]=100*this.percentRank(t.cm[r],a[r]);s.fouls=100-s.fouls;break;case"FB":for(var i in a.assists=e.assists/(e.minutes/90),a.keyPasses=e.keyPasses/(e.minutes/90),a.succPasses=e.succPasses/(e.minutes/90),a.passingRate=e.succPasses/e.totalPasses*100,a.succCrosses=e.succCrosses/(e.minutes/90),a.crossRate=e.succCrosses/e.totalCrosses*100,a.succDribbles=e.succDribbles/(e.minutes/90),a.dribbleRate=e.succDribbles/e.totalDribbles*100,a.interceptions=e.interceptions/(e.minutes/90),a.tackles=e.tackles/(e.minutes/90),a.tackleRate=e.tackles/(e.tackles+e.dribbledPast)*100,a.fouls=e.fouls/(e.minutes/90),a)s[i]=100*this.percentRank(t.fb[i],a[i]);s.fouls=100-s.fouls;break;case"CB":for(var c in a.succPasses=e.succPasses/(e.minutes/90),a.passingRate=e.succPasses/e.totalPasses*100,a.succLongPasses=e.succLongPasses/(e.minutes/90),a.longPassingRate=e.succLongPasses/e.totalLongPasses*100,a.interceptions=e.interceptions/(e.minutes/90),a.tackles=e.tackles/(e.minutes/90),a.tackleRate=e.tackles/(e.tackles+e.dribbledPast)*100,a.fouls=e.fouls/(e.minutes/90),a.blocks=e.blocks/(e.minutes/90),a.clearances=e.clearances/(e.minutes/90),a.succAerialDuels=e.succAerialDuels/(e.minutes/90),a.aerialDuelRate=e.succAerialDuels/e.totalAerialDuels*100,a)s[c]=100*this.percentRank(t.cb[c],a[c]);s.fouls=100-s.fouls}return this.insertChartInput(a,s)}},{key:"percentRank",value:function(e,t){isFinite(t)||(t=0);for(var a=0,s=e.length;a<s;a++)if(t<e[a]){for(;a<s&&t===e[a];)a++;return 0===a?0:(t!==e[a-1]&&(a+=(t-e[a-1])/(e[a]-e[a-1])),a/s)}return 1}},{key:"roundNumbers",value:function(e,t){for(var a in e)isFinite(e[a])?e[a]=Math.round(e[a]*Math.pow(10,t))/Math.pow(10,t):e[a]=0;return e}},{key:"insertChartInput",value:function(e,t){var a=this.state.template,s=[];s="FW"===a?[5,5,5,5,6,6,6,6,2,2,2,0]:"AM"===a?[5,5,6,6,6,6,6,6,2,2,2,0]:"CM"===a?[8,6,6,6,6,6,2,2,0,0,0,0]:"FB"===a?[6,6,6,6,6,6,2,2,0,0,0,0]:[6,6,6,6,0,0,0,0,0,0,0,0],e=this.roundNumbers(e,2),t=this.roundNumbers(t,0);var n=[],l=0;for(var r in t)n[l]={y:t[r],p90:e[r],color:R.a.Color(R.a.getOptions().colors[s[l]]).setOpacity(.8).get()},l++;return n}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.url,s=e.lastUpdated,l=e.selectedCompetitions,r=e.template,i=e.categories,c=e.allStats,o=e.percentiles,u=e.isLoading,m=e.multipleLeagues,p=e.fontSizes,h=e.isMobile;if(u)return n.a.createElement(C,null);for(var d=this.state.allCompetitions,b=[],f=0;f<d.length;f++){var g=d[f],v=l.includes(g),E=g;m||(E=E.substring(0,E.indexOf("|")-1)),b.push(n.a.createElement("label",{className:v?"selected-label":null},n.a.createElement("input",{className:"competition",type:"checkbox",value:g,onChange:this.changeSelectedCompetitions,checked:v})," ","  "+E))}if(0!==o.length&&0!==Object.keys(c).length&&i!==[]){var k,S,O=this.filterStats(c);if(0!==l.length){switch(k=[this.calculateChartInput(O,o)],S="Percentile Rank Bars (w/ p90 Raw Values)<br>",r){case"FW":S+="Forward Template  \u2551  Minutes Played: ";break;case"AM":S+="Attacking Midfielder / Winger Template  \u2551  Minutes Played: ";break;case"CM":S+="Central / Defensive Midfielder Template  \u2551  Minutes Played: ";break;case"FB":S+="Full-back Template  \u2551  Minutes Played: ";break;case"CB":S+="Center-back Template  \u2551  Minutes Played: "}S+=O.minutes.toLocaleString(),S+="<br>Last Updated: "+s+" UTC"}else k=[],S="-<br>-<br>-";var P={chart:{backgroundColor:"#fafbfc",style:{fontFamily:"sans-serif"},parallelCoordinates:!0,parallelAxes:{labels:{enabled:!1,style:{color:"#444444",fontSize:p.yAxisLabels}},gridZIndex:5,lineWidth:0,endOnTick:!0,showFirstLabel:!1,showLastLabel:!0,min:-15,max:100,tickPositions:[-15,0,25,50,75,100]},polar:!0,type:"column",hideDelay:0,spacingLeft:0,spacingRight:0,marginLeft:90,marginRight:90,marginBottom:30,events:{load:function(){this.title.element.onclick=function(){window.open(a,"_blank")}}}},credits:{text:"Percentile ranks are calculated by comparing a player to other top 5 league players who have at least 10 starts in the selected template position",style:{fontSize:p.credits},href:""},plotOptions:{series:{color:R.a.Color(R.a.getOptions().colors[0]).setOpacity(.6).get(),dataLabels:{enabled:!0,inside:!0,style:{color:"black",fontWeight:"600",fontSize:p.dataLabels,textOutline:"1.5px contrast"},format:"{point.p90}",padding:0,allowOverlap:!0}}},title:{text:t+", 19/20",style:{color:"#e75453",fontSize:p.title,fontWeight:"bold"},margin:35},pane:{startAngle:-16.363636363636363},lang:{noData:"Select a competition"},noData:{style:{fontWeight:"bold",fontSize:p.noData,color:"#303030"}},subtitle:{text:S,style:{fontSize:p.subtitle}},tooltip:{headerFormat:'<span style="font-size: '+p.tooltipHeader+'">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}<br>Raw Value: <b>{point.p90}</b><br/>Percentile Rank: <b>{point.formattedValue}</b>',style:{fontSize:p.tooltip}},legend:{enabled:!1,borderWidth:1,align:"center",verticalAlign:"bottom",layout:"horizontal"},xAxis:{categories:i,labels:{distance:!0===h?60:40,style:{fontSize:p.xAxisLabels},padding:31},gridLineWidth:1.5,gridLineColor:"#333333",gridZIndex:4},series:k.map((function(e,a){return{pointPadding:0,groupPadding:0,name:t,data:e,stickyTracking:!1,zIndex:0}})),exporting:{scale:1,sourceWidth:1920,sourceHeight:1080,buttons:{contextButton:{menuItems:["viewFullscreen","printChart"]}}}}}return n.a.createElement("div",{id:"main2"},n.a.createElement(y,{type:2}),n.a.createElement("div",{className:"screen2",id:"content-screen"},n.a.createElement("div",{className:"filter",id:"chart-filters"},n.a.createElement("div",{className:"chart-filter-inputs",id:"chart-filter-inputs-laptop"},n.a.createElement("h3",null,"Template"),n.a.createElement("form",{id:"templates",onChange:this.changeTemplate},n.a.createElement("label",null,n.a.createElement("input",{type:"radio",name:"template",value:"FW",checked:"FW"===r||null})," Forward "),n.a.createElement("label",null,n.a.createElement("input",{type:"radio",name:"template",value:"AM",checked:"AM"===r||null})," Attacking Midfielder / Winger"),n.a.createElement("label",null,n.a.createElement("input",{type:"radio",name:"template",value:"CM",checked:"CM"===r||null})," Central / Defensive Midfielder"),n.a.createElement("label",null,n.a.createElement("input",{type:"radio",name:"template",value:"FB",checked:"FB"===r||null})," Full-back "),n.a.createElement("label",null,n.a.createElement("input",{type:"radio",name:"template",value:"CB",checked:"CB"===r||null})," Center-back ")),n.a.createElement("h3",null,"Competitions"),n.a.createElement("h4",null,"19/20"),n.a.createElement("form",{id:"competitions"},b)),n.a.createElement("div",{className:"chart-filter-inputs",id:"chart-filter-inputs-mobile"},n.a.createElement("div",{id:"templates-container"},n.a.createElement("h3",null,"Template"),n.a.createElement("form",{id:"templates",onChange:this.changeTemplate},n.a.createElement("label",{className:"FW"===r?"selected-label":null},n.a.createElement("input",{type:"radio",name:"template",value:"FW",checked:"FW"===r||null})," ",n.a.createElement("span",null,"Forward")),n.a.createElement("label",{className:"AM"===r?"selected-label":null},n.a.createElement("input",{type:"radio",name:"template",value:"AM",checked:"AM"===r||null})," ",n.a.createElement("span",null,"Attacking Midfielder / Winger")),n.a.createElement("label",{className:"CM"===r?"selected-label":null},n.a.createElement("input",{type:"radio",name:"template",value:"CM",checked:"CM"===r||null})," ",n.a.createElement("span",null,"Central / Defensive Midfielder")),n.a.createElement("label",{className:"FB"===r?"selected-label":null},n.a.createElement("input",{type:"radio",name:"template",value:"FB",checked:"FB"===r||null})," ",n.a.createElement("span",null,"Full-back")),n.a.createElement("label",{className:"CB"===r?"selected-label":null},n.a.createElement("input",{type:"radio",name:"template",value:"CB",checked:"CB"===r||null})," ",n.a.createElement("span",null,"Center-back")))),n.a.createElement("div",{id:"competitions-container"},n.a.createElement("h3",null,"Competitions"),n.a.createElement("h4",null,"19/20"),n.a.createElement("form",{id:"competitions"},b))),n.a.createElement("div",{id:"filter-buttons"},n.a.createElement("div",{className:"filter-button"},n.a.createElement("button",{id:"selectAllButton",type:"button",onClick:this.selectAllCompetitions},"Select All Competitions")),n.a.createElement("div",{className:"filter-button"},n.a.createElement("button",{id:"clearAllButton",type:"button",onClick:this.clearAllCompetitions},"Clear All Competitions")),n.a.createElement("div",{className:"filter-button"},n.a.createElement("button",{id:"toggleTableButton",type:"button",disabled:!0},"Toggle Data Table")))),n.a.createElement("div",{className:"result",id:"chart"},n.a.createElement(B.a,{constructorType:"chart",highcharts:R.a,containerProps:{style:{width:"100%"}},options:P}))))}}]),t}(s.Component),q=a(20),x=a.n(q),W=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).getPercentiles=function(){fetch("/api/percentiles",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}).then((function(e){return e.json()})).then((function(e){return a.setState({percentiles:e})})).catch()},a.state={percentiles:{},isMobile:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=!1,t=this;x()((function(){if("rgb(250, 251, 253)"===x()("body").css("background-color")&&(e=!0),e){var a=Math.max(document.documentElement.clientHeight,window.innerHeight||0);x()("html, body, #root, #root-container").css({height:a}),x()("#home").css({height:a}),t.setState({isMobile:e})}})),this.getPercentiles()}},{key:"render",value:function(){var e=this;return n.a.createElement(p.c,null,n.a.createElement((function(){return n.a.createElement("div",{id:"root-container"},n.a.createElement(p.c,null,n.a.createElement(p.a,{exact:!0,path:"/",component:E}),n.a.createElement(p.a,{path:"/clubSearch/:query",component:S}),n.a.createElement(p.a,{path:"/playerSearch/:query/:searchByClub?",component:w}),n.a.createElement(p.a,{path:"/stats/:URL",render:function(t){return n.a.createElement(F,Object.assign({},t,{percentiles:e.state.percentiles,isMobile:e.state.isMobile}))}})))}),null))}}]),t}(s.Component);Object(l.render)(n.a.createElement(r.a,null,n.a.createElement(W,null)),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.55db90f0.chunk.js.map